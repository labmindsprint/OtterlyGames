"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{3625:function(e,t,s){s.r(t),s.d(t,{LessonsScreen:function(){return g}});var a=s(7437),l=s(2265),n=s(6440),i=s(9692),r=s(2451),d=s(9637),c=s(407),o=s(401),m=s(6337),x=s(2474),p=s(5712),h=s(6788),u=s(1876);let w=e=>Array.from({length:e},(e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),size:2*Math.random()+1,delay:3*Math.random(),duration:2*Math.random()+1})),b=[{id:1,title:"Multiplication Basics",subtitle:"Groups of numbers!",icon:"✖️",category:"multiplication",coinReward:5,firstTimeBonus:15,conceptSteps:["Ready to multiply?","Let's make some groups!"],animationSteps:["Let's make 3 groups of 2 apples...","Here's group 1 with 2 apples!","Here's group 2 with 2 more!","Here's group 3 with 2 more!","Count them all: 2 plus 2 plus 2 equals 6!","So 3 times 2 equals 6!"],questions:[{q:"2 \xd7 3 = ?",a:6,groups:2,items:3},{q:"3 \xd7 2 = ?",a:6,groups:3,items:2},{q:"4 \xd7 2 = ?",a:8,groups:4,items:2},{q:"2 \xd7 5 = ?",a:10,groups:2,items:5},{q:"3 \xd7 3 = ?",a:9,groups:3,items:3},{q:"5 \xd7 2 = ?",a:10,groups:5,items:2},{q:"4 \xd7 3 = ?",a:12,groups:4,items:3},{q:"3 \xd7 4 = ?",a:12,groups:3,items:4}]},{id:2,title:"Two-Digit Multiplication",subtitle:"Column method!",icon:"\uD83C\uDFAF",category:"multiplication",coinReward:10,firstTimeBonus:25,conceptSteps:["Now let's use the column method!","Write numbers in columns and multiply!"],animationSteps:["Let's try 12 times 3. Write in columns...","Start with the ones: 3 times 2 equals 6","Write 6 in the ones place","Now the tens: 3 times 1 equals 3","Write 3 in the tens place","Read the answer: 36!"],questions:[{q:"12 \xd7 3 = ?",a:36,num1:12,multiplier:3,onesResult:6,tensResult:3},{q:"14 \xd7 2 = ?",a:28,num1:14,multiplier:2,onesResult:8,tensResult:2},{q:"11 \xd7 4 = ?",a:44,num1:11,multiplier:4,onesResult:4,tensResult:4},{q:"13 \xd7 3 = ?",a:39,num1:13,multiplier:3,onesResult:9,tensResult:3},{q:"15 \xd7 2 = ?",a:30,num1:15,multiplier:2,onesResult:0,tensResult:3}]},{id:3,title:"Two-Digit \xd7 Two-Digit",subtitle:"The full column method!",icon:"\uD83D\uDCCA",category:"multiplication",coinReward:12,firstTimeBonus:30,conceptSteps:["Now multiply two big numbers!","We multiply by each digit of the second number!","Then add the partial products together!"],animationSteps:["Let's try 12 \xd7 14 using columns...","We multiply 12 by each digit of 14!","First, multiply 12 by 4 (the ones digit):","4 \xd7 2 = 8. Write 8 in the ones place!","4 \xd7 1 = 4. Write 4 in the tens place!","First partial product: 48!","Now multiply 12 by 1 (the tens digit):","Write a 0 first since 1 is in the tens place!","1 \xd7 2 = 2. Write 2 next!","1 \xd7 1 = 1. Write 1 in the hundreds place!","Second partial product: 120!","Now add: 48 + 120 = 168!"],questions:[{q:"12 \xd7 14 = ?",a:168,num1:12,num2:14,firstProduct:48,secondProduct:120},{q:"11 \xd7 13 = ?",a:143,num1:11,num2:13,firstProduct:33,secondProduct:110},{q:"13 \xd7 12 = ?",a:156,num1:13,num2:12,firstProduct:26,secondProduct:130},{q:"11 \xd7 15 = ?",a:165,num1:11,num2:15,firstProduct:55,secondProduct:110},{q:"12 \xd7 13 = ?",a:156,num1:12,num2:13,firstProduct:36,secondProduct:120}]},{id:4,title:"Division Concept",subtitle:"Share equally!",icon:"➗",category:"division",coinReward:8,firstTimeBonus:20,conceptSteps:["Ready to learn division?","Let's share some things!"],animationSteps:["Let's share 9 apples among 3 friends...","Here are all 9 apples!","Give each friend the same amount...","Friend 1 gets 3, Friend 2 gets 3, Friend 3 gets 3!","Each friend gets 3 apples!","So 9 divided by 3 equals 3!"],questions:[{q:"6 \xf7 2 = ?",a:3,total:6,groups:2},{q:"9 \xf7 3 = ?",a:3,total:9,groups:3},{q:"8 \xf7 2 = ?",a:4,total:8,groups:2},{q:"12 \xf7 3 = ?",a:4,total:12,groups:3},{q:"10 \xf7 2 = ?",a:5,total:10,groups:2},{q:"15 \xf7 3 = ?",a:5,total:15,groups:3}]},{id:5,title:"Long Division",subtitle:"With remainders!",icon:"\uD83E\uDDEE",category:"division",coinReward:10,firstTimeBonus:25,conceptSteps:["What if things don't divide evenly?","Let's learn about remainders!"],animationSteps:["Let's try 19 divided by 4...","Ask: How many times does 4 fit in 19?","4 times 4 equals 16. That's close!","4 times 5 would be 20. Too big!","So the quotient is 4!","Now multiply: 4 times 4 equals 16","Subtract: 19 minus 16 equals 3","3 is left over. That's the REMAINDER!","Now let's write it using the bracket method...","Divisor goes outside, dividend inside the bracket","Quotient on top, then multiply and subtract below","19 divided by 4 equals 4 remainder 3!"],questions:[{q:"19 \xf7 4 = ?",a:4,remainder:3,dividend:19,divisor:4,quotient:4,multiplyResult:16},{q:"17 \xf7 5 = ?",a:3,remainder:2,dividend:17,divisor:5,quotient:3,multiplyResult:15},{q:"13 \xf7 4 = ?",a:3,remainder:1,dividend:13,divisor:4,quotient:3,multiplyResult:12},{q:"22 \xf7 5 = ?",a:4,remainder:2,dividend:22,divisor:5,quotient:4,multiplyResult:20},{q:"14 \xf7 3 = ?",a:4,remainder:2,dividend:14,divisor:3,quotient:4,multiplyResult:12}]},{id:6,title:"Very Long Division",subtitle:"Two-digit answers!",icon:"\uD83D\uDCD0",category:"division",coinReward:15,firstTimeBonus:35,conceptSteps:["Ready for bigger divisions?","The answer can be two digits now!"],animationSteps:["Let's try 47 divided by 3...","First, look at the tens: 3 into 4","3 fits into 4 one time. Write 1 on top!","Multiply: 1 times 3 equals 3","Subtract: 4 minus 3 equals 1","Bring down the 7 to make 17","Now 3 into 17...","3 times 5 equals 15. That fits!","Write 5 next to the 1. Quotient is 15!","Multiply: 5 times 3 equals 15","Subtract: 17 minus 15 equals 2","2 is the remainder!","47 divided by 3 equals 15 remainder 2!"],questions:[{q:"47 \xf7 3 = ?",a:15,remainder:2,dividend:47,divisor:3,quotient:15,quotientTens:1,quotientOnes:5,firstMultiply:3,firstSubtract:1,bringDown:17,secondMultiply:15},{q:"58 \xf7 4 = ?",a:14,remainder:2,dividend:58,divisor:4,quotient:14,quotientTens:1,quotientOnes:4,firstMultiply:4,firstSubtract:1,bringDown:18,secondMultiply:16},{q:"67 \xf7 5 = ?",a:13,remainder:2,dividend:67,divisor:5,quotient:13,quotientTens:1,quotientOnes:3,firstMultiply:5,firstSubtract:1,bringDown:17,secondMultiply:15},{q:"52 \xf7 4 = ?",a:13,remainder:0,dividend:52,divisor:4,quotient:13,quotientTens:1,quotientOnes:3,firstMultiply:4,firstSubtract:1,bringDown:12,secondMultiply:12},{q:"74 \xf7 5 = ?",a:14,remainder:4,dividend:74,divisor:5,quotient:14,quotientTens:1,quotientOnes:4,firstMultiply:5,firstSubtract:2,bringDown:24,secondMultiply:20}]}];function g(e){var t;let{onNavigate:s}=e,{coins:g,addCoins:f,progress:j,completeLessonChapter:N,settings:v,updateDailyProgress:y}=(0,x.G)(),[E,q]=(0,l.useState)(null),[D,S]=(0,l.useState)(null),[C,M]=(0,l.useState)("intro"),[T,k]=(0,l.useState)(0),[R,L]=(0,l.useState)(0),[F,I]=(0,l.useState)(-1),[_,A]=(0,l.useState)(0),[W,z]=(0,l.useState)([]),[B,H]=(0,l.useState)(""),[P,G]=(0,l.useState)(!1),[O,Q]=(0,l.useState)(!1),[Y,Z]=(0,l.useState)(0),[V,U]=(0,l.useState)(!1),[J,K]=(0,l.useState)(""),[X,$]=(0,l.useState)(""),[ee,et]=(0,l.useState)(""),[es,ea]=(0,l.useState)(""),[el,en]=(0,l.useState)(""),[ei,er]=(0,l.useState)(0),[ed,ec]=(0,l.useState)(""),[eo,em]=(0,l.useState)(""),[ex,ep]=(0,l.useState)(""),eh=(0,l.useRef)(null),eu=(0,l.useRef)(null),ew=(0,l.useRef)(null),eb=(0,l.useRef)(null),eg=(0,l.useRef)(null),ef=(0,l.useRef)(null),ej=(0,l.useRef)(null),eN=(0,l.useRef)(null),[ev,ey]=(0,l.useState)(!1),[eE,eq]=(0,l.useState)([]);(0,l.useEffect)(()=>{eq(w(15))},[]);let eD=[{id:"multiplication",name:"Multiplication",icon:"✖️",color:"from-purple-400 to-violet-500",borderColor:"border-purple-300"},{id:"division",name:"Division",icon:"➗",color:"from-green-400 to-emerald-500",borderColor:"border-green-300"}],eS=e=>!0===j.lessonsCompleted["lesson_".concat(e)],eC=e=>{let t=b.filter(t=>t.category===e.category),s=t.findIndex(t=>t.id===e.id);if(0===s)return!0;let a=t[s-1];return!a||eS(a.id)},eM=(0,l.useCallback)(async e=>{if(v.soundEnabled)try{var t;let s=(null!==(t=v.voiceVolume)&&void 0!==t?t:100)/100;await (0,h.De)(e,s)}catch(e){console.error("[Lessons] TTS error:",e)}},[v.soundEnabled,v.voiceVolume]);(0,l.useEffect)(()=>{(0,h.gw)()},[]),(0,l.useEffect)(()=>{"practice"===C&&!P&&((null==D?void 0:D.id)===1&&(!ed&&ef.current?ef.current.focus():ed&&!eo&&ej.current?ej.current.focus():ed&&eo&&!ex&&eN.current&&eN.current.focus()),(null==D?void 0:D.id)===2&&(!X&&eh.current?eh.current.focus():X&&!ee&&eu.current&&eu.current.focus()),(null==D?void 0:D.id)===3&&(!X&&eh.current?eh.current.focus():X&&!ee&&eu.current?eu.current.focus():X&&ee&&!J&&ew.current?ew.current.focus():X&&ee&&!el&&eg.current?eg.current.focus():X&&ee&&el&&!es&&eb.current?eb.current.focus():X&&ee&&el&&es&&!ex&&eN.current?eN.current.focus():X&&ee&&el&&es&&ex&&!eo&&ej.current?ej.current.focus():X&&ee&&el&&es&&ex&&eo&&!ed&&ef.current&&ef.current.focus()),(null==D?void 0:D.id)===5&&(!es&&eb.current?eb.current.focus():es&&!el&&eg.current&&eg.current.focus()),(null==D?void 0:D.id)===6&&(!ee&&eu.current?eu.current.focus():ee&&!X&&eh.current?eh.current.focus():ee&&X&&!el&&eg.current&&eg.current.focus()))},[C,P,D,X,ee,J,es,el,ed,eo,ex]),(0,l.useEffect)(()=>{if("animation"===C&&D){let e=!1;return(async()=>{await eM(D.animationSteps[R]),e||(I(R),await new Promise(e=>setTimeout(e,1e3)),!e&&R<D.animationSteps.length-1&&L(e=>e+1))})(),()=>{e=!0}}},[C,R,D]),(0,l.useEffect)(()=>{"intro"===C&&D&&eM(D.conceptSteps[T])},[T,C,D]),(0,l.useEffect)(()=>{if("practice"===C&&W.length>0&&!P){let e=W[_],t=setTimeout(()=>{eM(e.q)},400);return()=>clearTimeout(t)}},[_,C,W,P]);let eT=e=>{S(e),M("intro"),k(0),L(0),I(-1),Z(0),A(0),(0,p.GN)("click")},ek=e=>[1,2,3,5,6].includes(e),eR=()=>{H(""),G(!1),L(0),K(""),$(""),et(""),ea(""),en(""),er(0),ec(""),em(""),ep("")},eL=()=>{if(!D)return;M("complete");let e=!eS(D.id);U(e);let t=e?D.coinReward+D.firstTimeBonus:2;f(t),e&&(N("lesson_".concat(D.id),0),y("lessons",1)),(0,p.Hs)("win","heavy"),eM(e?"Amazing! You earned ".concat(t," coins!"):"Great practice! You earned 2 coins.")},eF=()=>{S(null),M("intro"),(0,h.NB)()},eI=()=>{if((null==D?void 0:D.id)===1)return(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 my-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-white mb-4",children:"3 \xd7 2 = 3 groups of 2"}),(0,a.jsx)("div",{className:"flex justify-center gap-4 mb-4 flex-wrap",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{scale:0},animate:{scale:F>t?1:0},className:"bg-white/30 rounded-xl p-3",children:[(0,a.jsxs)("p",{className:"text-sm text-white mb-1",children:["Group ",t+1]}),(0,a.jsx)("div",{className:"flex gap-1",children:"\uD83C\uDF4E\uD83C\uDF4E"})]},t))}),F>=4&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-yellow-400 rounded-xl p-4 inline-block",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"= 6 total!"})})]})});if((null==D?void 0:D.id)===3){let e=Math.floor(1.2),t=Math.floor(1.4),s=4*e,l=10*s+8,i=2*t,r=t*e,d=100*r+10*i,c=l+d;return(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-xl landscape:rounded-lg p-2 sm:p-4 landscape:p-2 my-1 sm:my-3 landscape:my-1",children:(0,a.jsxs)("div",{className:"flex flex-col landscape:flex-row landscape:items-start landscape:gap-4 items-center",children:[(0,a.jsx)("p",{className:"text-sm sm:text-lg landscape:text-sm text-white mb-1 sm:mb-3 landscape:hidden",children:"12 \xd7 14 digit by digit:"}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg landscape:rounded-md p-2 sm:p-4 landscape:p-2 font-mono text-base sm:text-xl landscape:text-sm inline-block",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:F>=0?1:0},className:"flex justify-end text-blue-400",children:[(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:e}),(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:2})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:F>=0?1:0},className:"flex justify-end text-green-400",children:[(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:"\xd7"}),(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:t}),(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:4})]}),(0,a.jsx)("div",{className:"border-b-2 border-white my-1 sm:my-2 landscape:my-1 w-full"}),(0,a.jsxs)("div",{className:"flex justify-end text-cyan-400",children:[(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=4?1:0,scale:F>=4?1:0},className:"w-6 sm:w-9 landscape:w-5 text-center",children:s}),(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=3?1:0,scale:F>=3?1:0},className:"w-6 sm:w-9 landscape:w-5 text-center",children:8})]}),(0,a.jsxs)("div",{className:"flex justify-end text-yellow-400",children:[(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=9?1:0,scale:F>=9?1:0},className:"w-6 sm:w-9 landscape:w-5 text-center",children:r}),(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=8?1:0,scale:F>=8?1:0},className:"w-6 sm:w-9 landscape:w-5 text-center",children:i}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=7?.4:0},className:"w-6 sm:w-9 landscape:w-5 text-center text-white/40",children:"0"})]}),F>=11&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)("div",{className:"border-b-2 border-white my-1 sm:my-2 landscape:my-1 w-full"})}),F>=11&&(0,a.jsxs)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"flex justify-end text-green-300 font-bold",children:[(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:Math.floor(c/100)}),(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:Math.floor(c%100/10)}),(0,a.jsx)("span",{className:"w-6 sm:w-9 landscape:w-5 text-center",children:c%10})]})]}),(0,a.jsxs)("div",{className:"mt-2 sm:mt-3 landscape:mt-0 space-y-0.5 sm:space-y-1 landscape:space-y-0.5 w-full landscape:flex-1 max-w-sm text-[10px] sm:text-xs landscape:text-[9px]",children:[F>=3&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-cyan-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white",children:[(0,a.jsxs)("span",{className:"text-cyan-300",children:[4,"\xd7",2,"="]}),(0,a.jsx)("span",{className:"font-bold text-cyan-300",children:8})]}),F>=4&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-cyan-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white",children:[(0,a.jsxs)("span",{className:"text-cyan-300",children:[4,"\xd7",e,"="]}),(0,a.jsx)("span",{className:"font-bold text-cyan-300",children:s})," → ",(0,a.jsx)("span",{className:"font-bold",children:l})]}),F>=7&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white",children:[(0,a.jsxs)("span",{className:"text-yellow-300",children:["Tens (",t,"):"]})," add 0"]}),F>=8&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white",children:[(0,a.jsxs)("span",{className:"text-yellow-300",children:[t,"\xd7",2,"="]}),(0,a.jsx)("span",{className:"font-bold text-yellow-300",children:i})]}),F>=9&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-yellow-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white",children:[(0,a.jsxs)("span",{className:"text-yellow-300",children:[t,"\xd7",e,"="]}),(0,a.jsx)("span",{className:"font-bold text-yellow-300",children:r})," → ",(0,a.jsx)("span",{className:"font-bold",children:d})]}),F>=11&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-green-500/30 rounded landscape:rounded-sm p-1 sm:p-1.5 landscape:p-0.5 landscape:px-1 text-white text-center",children:[l,"+",d,"=",(0,a.jsx)("span",{className:"font-bold text-green-300",children:c}),"✓"]})]})]})})}return(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 my-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-white mb-4",children:"12 \xd7 3 using columns:"}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 font-mono text-2xl inline-block text-right",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:F>=0?1:0},className:"flex justify-end text-blue-400",children:[(0,a.jsx)("span",{className:"w-10",children:"1"}),(0,a.jsx)("span",{className:"w-10",children:"2"})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:F>=0?1:0},className:"flex justify-end text-green-400",children:[(0,a.jsx)("span",{className:"w-10",children:"\xd7"}),(0,a.jsx)("span",{className:"w-10",children:"3"})]}),(0,a.jsx)("div",{className:"border-b-2 border-white my-2 w-full"}),(0,a.jsxs)("div",{className:"flex justify-end items-center",children:[(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=4?1:0,scale:F>=4?1:0},className:"w-10 text-yellow-400",children:"3"}),(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:0},animate:{opacity:F>=2?1:0,scale:F>=2?1:0},className:"w-10 text-yellow-400",children:"6"})]})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[F>=1&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-blue-500/30 rounded-lg p-2 text-white text-sm",children:["Ones: 3 \xd7 2 = ",(0,a.jsx)("span",{className:"text-yellow-300 font-bold",children:"6"})]}),F>=3&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-green-500/30 rounded-lg p-2 text-white text-sm",children:["Tens: 3 \xd7 1 = ",(0,a.jsx)("span",{className:"text-yellow-300 font-bold",children:"3"})]})]}),F>=5&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-yellow-400 rounded-xl p-4 mt-4 inline-block",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"12 \xd7 3 = 36"})})]})})},e_=()=>{if((null==D?void 0:D.id)===4){let e=[{apple:0,friend:0},{apple:1,friend:1},{apple:2,friend:2},{apple:3,friend:0},{apple:4,friend:1},{apple:5,friend:2},{apple:6,friend:0},{apple:7,friend:1},{apple:8,friend:2}],t=F>=3,s=s=>{if(!t)return"pool";let a=e.findIndex(e=>e.apple===s);return{dealIdx:a,friend:e[a].friend}},l=s=>t?e.filter(e=>e.friend===s).map((t,s)=>({apple:t.apple,dealIdx:e.indexOf(t),localIdx:s})):[];return(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 my-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-white mb-4",children:"9 \xf7 3 = Share 9 among 3"}),F>=0&&(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("p",{className:"text-white mb-2",children:"9 apples to share:"}),(0,a.jsx)("div",{className:"flex justify-center gap-1 flex-wrap min-h-[36px]",children:[...Array(9)].map((e,l)=>{let i=s(l);if(t&&"pool"!==i){let{dealIdx:e}=i;return(0,a.jsx)(n.E.span,{className:"text-2xl",initial:{opacity:1,scale:1},animate:{opacity:0,scale:.3,y:80},transition:{delay:.4*e,duration:.35,ease:"easeIn"},children:"\uD83C\uDF4E"},l)}return(0,a.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF4E"},l)})})]}),F>=2&&(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[0,1,2].map(e=>{let s=l(e);return(0,a.jsxs)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-white/30 rounded-xl p-2 min-h-[80px]",children:[(0,a.jsxs)("p",{className:"text-sm text-white mb-1",children:["Friend ",e+1]}),(0,a.jsx)("div",{className:"flex gap-1 justify-center flex-wrap min-h-[32px]",children:t&&s.map(e=>{let{apple:t,dealIdx:s}=e;return(0,a.jsx)(n.E.span,{className:"text-xl",initial:{opacity:0,scale:0,y:-60},animate:{opacity:1,scale:1,y:0},transition:{delay:.4*s+.2,duration:.4,type:"spring",stiffness:300,damping:15},children:"\uD83C\uDF4E"},t)})})]},e)})}),F>=4&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-yellow-400 rounded-xl p-4 inline-block",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"= 3 each!"})})]})})}return(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 my-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-white mb-4",children:"19 \xf7 4 = ? (with remainder)"}),F<8&&(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 font-mono text-lg inline-block text-left",children:[F>=0&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white/70 text-sm mb-2",children:"How many times does 4 fit in 19?"}),F>=1&&F<4&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-3 space-y-1 text-sm",children:[(0,a.jsx)("div",{className:"text-cyan-400",children:"4 \xd7 4 = 16 ✓ (fits!)"}),(0,a.jsx)("div",{className:"text-red-400",children:"4 \xd7 5 = 20 ✗ (too big!)"})]}),F>=3&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-green-500/30 rounded-lg p-2 mb-3 text-center",children:(0,a.jsx)("span",{className:"text-green-400 font-bold text-xl",children:"Quotient = 4"})}),F>=4&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-cyan-500/20 rounded-lg p-2 mb-2",children:(0,a.jsxs)("div",{className:"text-cyan-400",children:["4 \xd7 4 = ",(0,a.jsx)("span",{className:"font-bold text-xl",children:"16"})]})}),F>=5&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-yellow-500/20 rounded-lg p-2 mb-2",children:(0,a.jsxs)("div",{className:"text-yellow-400 text-right pr-4",children:[(0,a.jsx)("div",{children:"19"}),(0,a.jsx)("div",{children:"- 16"}),(0,a.jsx)("div",{className:"border-t border-yellow-400 pt-1 font-bold",children:"3"})]})}),F>=6&&(0,a.jsxs)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-orange-500/30 rounded-lg p-2 mb-3",children:[(0,a.jsx)("span",{className:"text-orange-400",children:"3 is left over = "}),(0,a.jsx)("span",{className:"text-orange-300 font-bold text-xl",children:"REMAINDER!"})]}),F>=7&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white/60 text-xs",children:"Remainder = what's left after sharing equally"})]}),F>=8&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-800 rounded-xl p-5 inline-block",children:[(0,a.jsx)("p",{className:"text-white/70 text-sm mb-4 text-center",children:"Now write it using the bracket method:"}),(0,a.jsxs)("div",{className:"font-mono text-2xl flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-end mb-1",children:[(0,a.jsx)("div",{className:"w-10"}),(0,a.jsx)("div",{className:"w-4 border-b-0"}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=9?1:0},className:"text-green-400 font-bold w-10 text-center",children:"4"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=8?1:0},className:"text-blue-400 font-bold w-10 text-right",children:"4"}),(0,a.jsx)("div",{className:"w-4 h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=8?1:0},className:"text-yellow-400 font-bold w-10 text-center",children:"19"})]}),F>=10&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("span",{className:"text-cyan-400 w-10 text-center",children:"-16"})]}),F>=10&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("div",{className:"w-10 border-t-2 border-white"})]}),F>=10&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("span",{className:"text-orange-400 font-bold w-10 text-center",children:"3"})]})]}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-white/50 space-y-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-blue-400",children:"4"})," = divisor (divides into)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"19"})," = dividend (being divided)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-green-400",children:"4"})," = quotient (answer)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-orange-400",children:"3"})," = remainder (left over)"]})]})]}),F>=11&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-yellow-400 rounded-xl p-4 mt-4 inline-block",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"19 \xf7 4 = 4 R3"})})]})})},eA=()=>(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-2xl p-6 my-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl text-white mb-4",children:"47 \xf7 3 = ? (two-digit answer)"}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-xl p-4 inline-block",children:[(0,a.jsxs)("div",{className:"font-mono text-xl flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-end mb-1",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=2?1:0},className:"text-green-400 font-bold w-6 text-center",children:"1"}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=8?1:0},className:"text-green-400 font-bold w-6 text-center",children:"5"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-blue-400 font-bold w-8 text-right",children:"3"}),(0,a.jsx)("div",{className:"w-4 h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold w-6 text-center",children:"4"}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold w-6 text-center",children:"7"})]}),F>=3&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("span",{className:"text-cyan-400 w-6 text-center",children:"-3"}),(0,a.jsx)("div",{className:"w-6"})]}),F>=4&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("div",{className:"w-6 border-t-2 border-white"}),(0,a.jsx)("div",{className:"w-6"})]}),F>=4&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("span",{className:"text-white w-6 text-center",children:"1"}),(0,a.jsx)(n.E.span,{initial:{opacity:0},animate:{opacity:F>=5?1:0},className:"text-pink-400 w-6 text-center",children:"7"})]}),F>=9&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("span",{className:"text-cyan-400 w-12 text-center",children:"-15"})]}),F>=10&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("div",{className:"w-12 border-t-2 border-white"})]}),F>=10&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8"}),(0,a.jsx)("div",{className:"w-4"}),(0,a.jsx)("div",{className:"w-6"}),(0,a.jsx)("span",{className:"text-orange-400 font-bold w-6 text-center",children:"2"})]})]}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-white/70 text-left space-y-1",children:[F>=1&&F<5&&(0,a.jsxs)("div",{children:["Step 1: 3 into 4 = ",(0,a.jsx)("span",{className:"text-green-400",children:"1"})]}),F>=3&&F<5&&(0,a.jsx)("div",{children:"Step 2: 1 \xd7 3 = 3, subtract"}),F>=5&&F<8&&(0,a.jsxs)("div",{children:["Step 3: Bring down 7 → ",(0,a.jsx)("span",{className:"text-pink-400",children:"17"})]}),F>=6&&F<10&&(0,a.jsxs)("div",{children:["Step 4: 3 into 17 = ",(0,a.jsx)("span",{className:"text-green-400",children:"5"})]}),F>=9&&F<12&&(0,a.jsx)("div",{children:"Step 5: 5 \xd7 3 = 15, subtract"}),F>=10&&(0,a.jsxs)("div",{children:["Remainder: ",(0,a.jsx)("span",{className:"text-orange-400",children:"2"})]})]})]}),F>=12&&(0,a.jsx)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"bg-yellow-400 rounded-xl p-4 mt-4 inline-block",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900",children:"47 \xf7 3 = 15 R2"})})]})});return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-pink-200 via-purple-200 to-blue-200 flex flex-col relative overflow-hidden",style:{minHeight:"100dvh",maxHeight:"100dvh",paddingTop:"calc(env(safe-area-inset-top, 0px) + 20px)",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 8px)",paddingLeft:"calc(env(safe-area-inset-left, 0px) + 12px)",paddingRight:"calc(env(safe-area-inset-right, 0px) + 12px)"},children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-72 h-72 bg-gradient-to-br from-pink-300/40 to-purple-300/40 rounded-full blur-3xl pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-gradient-to-br from-blue-300/40 to-cyan-300/40 rounded-full blur-3xl pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-72 h-72 bg-gradient-to-br from-green-300/30 to-emerald-300/30 rounded-full blur-3xl pointer-events-none"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 landscape:mb-2 relative z-20",children:[(0,a.jsx)(n.E.button,{whileTap:{scale:.9},onClick:()=>{(0,p.GN)("click"),E&&!D?q(null):s("home")},className:"w-12 h-12 landscape:w-9 landscape:h-9 bg-white/80 backdrop-blur-md rounded-2xl landscape:rounded-xl flex items-center justify-center shadow-lg border-2 border-green-200","aria-label":"Back",children:E&&!D?(0,a.jsx)(r.Z,{className:"w-6 h-6 landscape:w-5 landscape:h-5 text-gray-700"}):(0,a.jsx)(d.Z,{className:"w-6 h-6 landscape:w-5 landscape:h-5 text-gray-700"})}),(0,a.jsx)("h1",{className:"text-2xl landscape:text-xl font-bold text-gray-800",children:"\uD83D\uDCDA Math Lessons"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 landscape:gap-1",children:[(0,a.jsx)(u.F,{variant:"light",size:"md",className:"landscape:!w-8 landscape:!h-8"}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-yellow-400 to-amber-500 backdrop-blur-md border-2 border-white rounded-xl landscape:rounded-lg px-3 py-2 landscape:px-2 landscape:py-1 flex items-center gap-1 shadow-lg",children:[(0,a.jsx)("span",{className:"landscape:text-sm",children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"font-bold text-white landscape:text-sm",children:g})]})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto landscape:overflow-y-hidden relative z-20 pt-2",children:E?(0,a.jsxs)("div",{className:"space-y-3 landscape:space-y-0 landscape:grid landscape:grid-cols-2 landscape:gap-2",children:[(0,a.jsxs)("h2",{className:"text-xl landscape:text-base font-bold text-gray-800 text-center mb-4 landscape:mb-0 landscape:col-span-2",children:[null===(t=eD.find(e=>e.id===E))||void 0===t?void 0:t.name," Lessons"]}),b.filter(e=>e.category===E).map((e,t)=>{let s=eS(e.id),l=eC(e);return(0,a.jsxs)(n.E.button,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.05*t},whileTap:l?{scale:.98}:{},onClick:()=>l&&eT(e),disabled:!l,className:"\n                    w-full rounded-2xl landscape:rounded-xl p-4 landscape:p-2 flex items-center gap-4 landscape:gap-2 border-2 shadow-lg\n                    ".concat(s?"bg-green-50 border-green-300":l?"bg-white/90 backdrop-blur-md border-gray-200":"bg-gray-100/80 border-gray-200 opacity-60","\n                  "),children:[(0,a.jsx)("div",{className:"w-14 h-14 landscape:w-9 landscape:h-9 rounded-xl landscape:rounded-lg flex items-center justify-center border-2 ".concat(s?"bg-green-100 border-green-300":l?"bg-purple-100 border-purple-200":"bg-gray-100 border-gray-200"),children:s?(0,a.jsx)(o.Z,{className:"w-7 h-7 landscape:w-4 landscape:h-4 text-green-500"}):l?(0,a.jsx)("span",{className:"text-3xl landscape:text-xl",children:e.icon}):(0,a.jsx)(m.Z,{className:"w-6 h-6 landscape:w-4 landscape:h-4 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 landscape:text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-gray-500 text-sm landscape:text-[10px]",children:e.subtitle})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-amber-600 landscape:text-sm",children:[(0,a.jsx)("span",{className:"landscape:text-xs",children:"\uD83E\uDE99"}),(0,a.jsx)("span",{className:"font-bold",children:s?"2":e.coinReward+e.firstTimeBonus})]})})]},e.id)})]}):(0,a.jsxs)("div",{className:"space-y-3 landscape:space-y-0 landscape:grid landscape:grid-cols-2 landscape:gap-2",children:[(0,a.jsx)("p",{className:"text-gray-600 text-center mb-2 landscape:mb-0 landscape:col-span-2 landscape:text-sm font-medium",children:"Choose what to learn:"}),eD.map((e,t)=>{let s=b.filter(t=>t.category===e.id),l=s.filter(e=>eS(e.id)).length;return(0,a.jsxs)(n.E.button,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.05*t},whileTap:{scale:.98},onClick:()=>{q(e.id),(0,p.GN)("click")},className:"w-full bg-white/90 backdrop-blur-md border-2 ".concat(e.borderColor," rounded-2xl landscape:rounded-xl p-5 landscape:p-2 flex items-center gap-4 landscape:gap-2 shadow-lg"),children:[(0,a.jsx)("div",{className:"w-16 h-16 landscape:w-10 landscape:h-10 bg-gradient-to-br ".concat(e.color," rounded-2xl landscape:rounded-lg flex items-center justify-center shadow-md"),children:(0,a.jsx)("span",{className:"text-4xl landscape:text-2xl",children:e.icon})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("h3",{className:"text-xl landscape:text-sm font-bold text-gray-800",children:e.name}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm landscape:text-[10px]",children:[l,"/",s.length," lessons"]}),(0,a.jsx)("div",{className:"h-2 landscape:h-1 bg-gray-200 rounded-full overflow-hidden mt-1 landscape:mt-0.5",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r ".concat(e.color," rounded-full"),style:{width:"".concat(l/s.length*100,"%")}})})]}),(0,a.jsx)(c.Z,{className:"w-6 h-6 landscape:w-4 landscape:h-4 text-gray-400"})]},e.id)})]})}),!D&&(0,a.jsx)(n.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex-shrink-0 px-2 pb-2 landscape:pb-1 relative z-30",children:(0,a.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{(0,p.GN)("click"),s("practice")},className:"w-full bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 rounded-2xl landscape:rounded-xl p-4 landscape:p-2.5 shadow-xl border-2 border-white/30 relative overflow-hidden",children:[(0,a.jsx)(n.E.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,repeatDelay:1}}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center gap-3 landscape:gap-2",children:[(0,a.jsx)(n.E.span,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"text-3xl landscape:text-2xl",children:"\uD83C\uDFAF"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("h3",{className:"text-white font-bold text-lg landscape:text-base drop-shadow-lg",children:"Practice Mode"}),(0,a.jsx)("p",{className:"text-white/80 text-sm landscape:text-xs",children:"Unlimited math practice • Build your skills!"})]}),(0,a.jsx)(n.E.span,{animate:{x:[0,5,0]},transition:{duration:1,repeat:1/0},className:"text-white text-2xl landscape:text-xl",children:"→"})]})]})}),(0,a.jsx)(i.M,{children:D&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-pink-100/95 via-purple-100/95 to-blue-100/95 backdrop-blur-sm z-50 flex items-start justify-center p-2 sm:p-4 overflow-y-auto",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 20px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:(0,a.jsxs)(n.E.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-gradient-to-br from-[#1a1a3e] to-[#2a1a4e] border border-purple-500/30 rounded-2xl sm:rounded-3xl landscape:rounded-xl p-2 sm:p-6 landscape:p-2 max-w-md landscape:max-w-4xl w-full max-h-[85vh] landscape:max-h-[92vh] overflow-y-auto overflow-x-hidden relative scrollbar-hide shadow-[0_0_30px_rgba(168,85,247,0.3)] mb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[(0,a.jsx)(n.E.button,{whileTap:{scale:.9},onClick:eF,className:"absolute top-2 right-2 sm:top-4 sm:right-4 landscape:top-1 landscape:right-1 w-8 h-8 sm:w-10 sm:h-10 landscape:w-6 landscape:h-6 bg-white/10 border border-white/20 rounded-full flex items-center justify-center z-10",children:(0,a.jsx)("span",{className:"text-white text-lg sm:text-xl landscape:text-sm",children:"\xd7"})}),"intro"===C&&(0,a.jsxs)("div",{className:"text-center pt-2 sm:pt-6 landscape:flex landscape:items-center landscape:gap-4 landscape:text-left",children:[(0,a.jsx)(n.E.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:3},className:"mb-2 sm:mb-4 landscape:mb-0",style:{fontSize:"clamp(3rem, 12vw, 4.5rem)"},children:D.icon}),(0,a.jsxs)("div",{className:"landscape:flex-1",children:[(0,a.jsx)("h2",{className:"font-bold text-white mb-1 sm:mb-2 drop-shadow-lg",style:{fontSize:"clamp(1.25rem, 5vw, 1.75rem)"},children:D.title}),(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-4 mb-3 sm:mb-4 min-h-[60px] sm:min-h-[80px] flex items-center justify-center landscape:min-h-[50px]",children:(0,a.jsx)("p",{className:"text-white",style:{fontSize:"clamp(0.875rem, 3.5vw, 1.125rem)"},children:D.conceptSteps[T]})}),(0,a.jsx)("div",{className:"flex justify-center landscape:justify-start gap-2 mb-3 sm:mb-4",children:D.conceptSteps.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors ".concat(t<=T?"bg-white":"bg-white/30")},t))}),(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{D&&(T<D.conceptSteps.length-1?k(e=>e+1):(M("animation"),L(0),I(-1)),(0,p.GN)("click"))},className:"w-full h-12 sm:h-14 landscape:h-9 bg-gradient-to-r from-pink-500 to-fuchsia-500 border border-pink-400/50 rounded-xl sm:rounded-2xl landscape:rounded-lg font-bold text-white shadow-[0_0_20px_rgba(236,72,153,0.4)]",style:{fontSize:"clamp(0.875rem, 3.5vw, 1.125rem)"},children:T<D.conceptSteps.length-1?"Next →":"\uD83D\uDC40 Watch & Learn!"})]})]}),"animation"===C&&(0,a.jsxs)("div",{className:"text-center pt-1 sm:pt-4 landscape:pt-0",children:[(0,a.jsx)("h2",{className:"font-bold text-white mb-0.5 sm:mb-2 landscape:mb-0 drop-shadow-lg landscape:text-sm",style:{fontSize:"clamp(1rem, 4vw, 1.25rem)"},children:D.title}),(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl landscape:rounded p-2 sm:p-3 landscape:p-1.5 mb-2 sm:mb-3 landscape:mb-1 min-h-[40px] sm:min-h-[50px] landscape:min-h-[28px] flex items-center justify-center",children:(0,a.jsxs)(n.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-white landscape:text-xs",style:{fontSize:"clamp(0.75rem, 3vw, 1rem)"},children:["\uD83C\uDF93 ",D.animationSteps[R]]},F)}),(()=>{if(!D||"animation"!==C)return null;switch(D.category){case"multiplication":return eI();case"division":if(6===D.id)return eA();return e_();default:return null}})(),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-3 sm:mb-4",children:D.animationSteps.map((e,t)=>(0,a.jsx)("div",{className:"w-2 h-2 rounded-full transition-colors ".concat(t<=R?"bg-yellow-400":"bg-white/30")},t))}),F>=D.animationSteps.length-1?(0,a.jsx)(n.E.button,{initial:{scale:0},animate:{scale:1},whileTap:{scale:.95},onClick:()=>{D&&(z([...D.questions].sort(()=>Math.random()-.5)),M("practice"),A(0),Z(0),H(""),G(!1),L(0),I(-1),K(""),$(""),et(""),ea(""),en(""),er(0),ec(""),em(""),ep(""),(0,p.GN)("click"),setTimeout(()=>eM("Now let's practice! Get 5 correct answers to complete."),300))},className:"w-full h-12 sm:h-14 landscape:h-9 bg-gradient-to-r from-green-500 to-emerald-500 border border-green-400/50 rounded-xl sm:rounded-2xl landscape:rounded-lg font-bold text-white landscape:text-sm shadow-[0_0_20px_rgba(34,197,94,0.4)]",style:{fontSize:"clamp(0.875rem, 3.5vw, 1.125rem)"},children:"\uD83C\uDFAF Now You Try!"}):null]}),"practice"===C&&W.length>0&&(0,a.jsxs)("div",{className:"pt-2 sm:pt-6 landscape:pt-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-0.5 sm:mb-2 landscape:mb-0",children:[(0,a.jsxs)("span",{className:"text-white/70 landscape:text-[10px]",style:{fontSize:"clamp(0.75rem, 3vw, 1rem)"},children:["Correct: ",Y,"/5"]}),(0,a.jsx)("div",{className:"flex items-center gap-0.5",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("span",{className:"text-sm sm:text-xl landscape:text-xs ".concat(t<Y?"opacity-100":"opacity-30"),children:"⭐"},t))})]}),(0,a.jsx)("div",{className:"h-1 sm:h-2 landscape:h-1 bg-white/30 rounded-full overflow-hidden mb-2 sm:mb-6 landscape:mb-2",children:(0,a.jsx)(n.E.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full",animate:{width:"".concat(Y/5*100,"%")}})}),(0,a.jsxs)("div",{className:"text-center mb-2 sm:mb-6 landscape:mb-1",children:[!ek(D.id)&&4!==D.id&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"font-bold text-white mb-2 sm:mb-4 landscape:mb-1 landscape:text-xl",style:{fontSize:"clamp(1.5rem, 6vw, 2.5rem)"},children:W[_].q}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:B,onChange:e=>H(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"text-2xl sm:text-4xl border-4 border-white/50 bg-white text-purple-700 rounded-xl sm:rounded-2xl p-1.5 sm:p-3 w-24 sm:w-32 text-center focus:border-white focus:outline-none placeholder:text-purple-300",autoFocus:!0})]}),1===D.id&&(0,a.jsxs)("div",{className:"bg-white/10 border border-white/20 rounded-xl sm:rounded-2xl p-3 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-xl sm:text-2xl font-bold text-white text-center mb-2 sm:mb-4",children:W[_].q}),(0,a.jsx)("p",{className:"text-white/70 text-xs sm:text-sm mb-2 sm:mb-4 text-center",children:"Think about groups!"}),(W[_],(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("input",{ref:ef,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:ed,onChange:e=>ec(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-18 md:h-18 text-2xl sm:text-3xl md:text-4xl border-4 border-purple-400/50 bg-white text-purple-700 rounded-xl text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("span",{className:"text-white text-base sm:text-xl",children:"groups"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("input",{ref:ej,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:eo,onChange:e=>em(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-12 h-12 sm:w-16 sm:h-16 md:w-18 md:h-18 text-2xl sm:text-3xl md:text-4xl border-4 border-cyan-400/50 bg-white text-purple-700 rounded-xl text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("span",{className:"text-white text-base sm:text-xl",children:"in each group"})]}),ed&&eo&&(0,a.jsx)("div",{className:"bg-white/10 rounded-lg sm:rounded-xl p-2 sm:p-3 mt-1 sm:mt-2",children:(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2",children:[...Array(Math.min(parseInt(ed)||0,6))].map((e,t)=>(0,a.jsx)("div",{className:"bg-white/20 rounded p-1 sm:p-2 flex gap-0.5 sm:gap-1",children:[...Array(Math.min(parseInt(eo)||0,5))].map((e,t)=>(0,a.jsx)("span",{className:"text-sm sm:text-lg",children:"\uD83C\uDF4E"},t))},t))})}),(0,a.jsxs)("div",{className:"w-full flex items-center gap-1 sm:gap-2 mt-1 sm:mt-2",children:[(0,a.jsx)("div",{className:"flex-1 h-0.5 bg-white/30"}),(0,a.jsx)("span",{className:"text-white text-base sm:text-xl",children:"="}),(0,a.jsx)("div",{className:"flex-1 h-0.5 bg-white/30"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("input",{ref:eN,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:2,value:ex,onChange:e=>ep(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-18 h-12 sm:w-24 sm:h-16 md:w-28 md:h-18 text-2xl sm:text-3xl md:text-4xl border-4 border-green-400/50 bg-white text-purple-700 rounded-xl text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("span",{className:"text-white text-base sm:text-xl",children:"total"})]})]}))]}),2===D.id&&(0,a.jsxs)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl p-2 sm:p-6",children:[(0,a.jsx)("p",{className:"text-white/70 text-[10px] sm:text-sm mb-1 sm:mb-3",children:"Fill in the answer:"}),(()=>{let e=W[_],t=Math.floor((e.num1||0)/10),s=(e.num1||0)%10,l=e.multiplier||0;return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 sm:gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("span",{className:"text-white/50 text-xs sm:text-sm w-7 sm:w-10 md:w-12"}),(0,a.jsxs)("div",{className:"flex gap-1 sm:gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20 bg-white/30 rounded-lg flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:t}),(0,a.jsx)("div",{className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20 bg-white/30 rounded-lg flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:s})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("span",{className:"text-white text-2xl sm:text-3xl md:text-4xl font-bold w-7 sm:w-10 md:w-12 text-right",children:"\xd7"}),(0,a.jsxs)("div",{className:"flex gap-1 sm:gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20"}),(0,a.jsx)("div",{className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20 bg-white/30 rounded-lg flex items-center justify-center text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:l})]})]}),(0,a.jsx)("div",{className:"w-28 sm:w-36 md:w-40 h-0.5 sm:h-1 bg-white my-0.5 sm:my-1"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("span",{className:"text-white/50 text-xs sm:text-sm w-7 sm:w-10 md:w-12"}),(0,a.jsxs)("div",{className:"flex gap-1 sm:gap-2",children:[(0,a.jsx)("input",{ref:eu,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:ee,onChange:e=>et(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20 text-2xl sm:text-3xl md:text-4xl border-4 border-white/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("input",{ref:eh,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:X,onChange:e=>$(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-10 h-12 sm:w-14 sm:h-16 md:w-16 md:h-20 text-2xl sm:text-3xl md:text-4xl border-4 border-white/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"})]})]})]})})()]}),3===D.id&&(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl p-2 sm:p-4",children:(()=>{let e=W[_],t=e.num1||12,s=e.num2||14,l=Math.floor(s/10),n=s%10,i=t*n;return(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsxs)("div",{className:"bg-slate-800/90 rounded-lg p-2 sm:p-4 font-mono text-lg sm:text-xl md:text-2xl",children:[(0,a.jsx)("div",{className:"flex items-center mb-0.5",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12"}),(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-blue-400",children:Math.floor(t/10)}),(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-blue-400",children:t%10})]})}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-green-400",children:"\xd7"}),(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-green-400",children:l}),(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-green-400",children:n})]})}),(0,a.jsx)("div",{className:"border-b-2 border-white/60 my-1",style:{width:"calc(3 * (2.75rem + 2px))"}}),(0,a.jsxs)("div",{className:"flex items-center mb-0.5",children:[(0,a.jsxs)("div",{className:"flex",children:[Math.floor(i/100)>0?(0,a.jsx)("input",{ref:ew,type:"text",inputMode:"numeric",maxLength:1,value:J,onChange:e=>K(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-cyan-400/60 bg-white text-purple-700 rounded text-center focus:border-cyan-300 focus:outline-none placeholder:text-purple-300 font-bold"}):(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12"}),(0,a.jsx)("input",{ref:eu,type:"text",inputMode:"numeric",maxLength:1,value:ee,onChange:e=>et(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-cyan-400/60 bg-white text-purple-700 rounded text-center focus:border-cyan-300 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("input",{ref:eh,type:"text",inputMode:"numeric",maxLength:1,value:X,onChange:e=>$(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-cyan-400/60 bg-white text-purple-700 rounded text-center focus:border-cyan-300 focus:outline-none placeholder:text-purple-300 font-bold"})]}),(0,a.jsxs)("span",{className:"text-cyan-300 text-[10px] sm:text-xs ml-2 whitespace-nowrap",children:["(",n," times)"]})]}),(0,a.jsxs)("div",{className:"flex items-center mb-0.5",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("input",{ref:eb,type:"text",inputMode:"numeric",maxLength:1,value:es,onChange:e=>ea(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-yellow-400/60 bg-white text-purple-700 rounded text-center focus:border-yellow-300 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("input",{ref:eg,type:"text",inputMode:"numeric",maxLength:1,value:el,onChange:e=>en(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-yellow-400/60 bg-white text-purple-700 rounded text-center focus:border-yellow-300 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("span",{className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 flex items-center justify-center text-yellow-400/50 text-base sm:text-lg md:text-xl",children:"0"})]}),(0,a.jsxs)("span",{className:"text-yellow-300 text-[10px] sm:text-xs ml-2 whitespace-nowrap",children:["(",l," times)"]})]}),(0,a.jsx)("div",{className:"border-b-2 border-white/60 my-1",style:{width:"calc(3 * (2.75rem + 2px))"}}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("input",{ref:ef,type:"text",inputMode:"numeric",maxLength:1,value:ed,onChange:e=>ec(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-green-400/60 bg-white text-purple-700 rounded text-center focus:border-green-300 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("input",{ref:ej,type:"text",inputMode:"numeric",maxLength:1,value:eo,onChange:e=>em(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-green-400/60 bg-white text-purple-700 rounded text-center focus:border-green-300 focus:outline-none placeholder:text-purple-300 font-bold"}),(0,a.jsx)("input",{ref:eN,type:"text",inputMode:"numeric",maxLength:1,value:ex,onChange:e=>ep(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-9 sm:w-11 md:w-12 h-9 sm:h-11 md:h-12 text-base sm:text-lg md:text-xl border-2 border-green-400/60 bg-white text-purple-700 rounded text-center focus:border-green-300 focus:outline-none placeholder:text-purple-300 font-bold"})]}),(0,a.jsx)("span",{className:"text-green-300 text-[10px] sm:text-xs ml-2 whitespace-nowrap",children:"(sum)"})]})]})})})()}),4===D.id&&(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl p-2 sm:p-5",children:(()=>{let e=W[_],t=e.total||6,s=e.groups||2,l=B?parseInt(B):0;return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:[t," \xf7 ",s," = ?"]})}),(0,a.jsxs)("div",{className:"bg-white/10 rounded-lg sm:rounded-xl p-2 sm:p-3 w-full",children:[(0,a.jsxs)("p",{className:"text-white text-xs sm:text-sm text-center mb-1 sm:mb-2",children:["Here are ",t," apples:"]}),(0,a.jsx)("div",{className:"flex justify-center gap-0.5 sm:gap-1 flex-wrap",children:[...Array(t)].map((e,t)=>(0,a.jsx)("span",{className:"text-lg sm:text-2xl",children:"\uD83C\uDF4E"},t))})]}),(0,a.jsxs)("p",{className:"text-white text-center text-sm sm:text-base font-medium",children:["Share equally among ",s," friends:"]}),(0,a.jsx)("div",{className:"grid gap-1.5 sm:gap-3 w-full ".concat(2===s?"grid-cols-2":"grid-cols-3"),children:[...Array(s)].map((e,t)=>(0,a.jsxs)("div",{className:"bg-gradient-to-b from-white/20 to-white/10 rounded-lg sm:rounded-xl p-1.5 sm:p-3 text-center border border-white/20",children:[(0,a.jsx)("p",{className:"text-lg sm:text-2xl mb-0.5 sm:mb-1",children:"\uD83D\uDC64"}),(0,a.jsxs)("p",{className:"text-white text-[10px] sm:text-xs mb-1 sm:mb-2",children:["Friend ",t+1]}),(0,a.jsx)("div",{className:"flex justify-center gap-0.5 flex-wrap min-h-[24px] sm:min-h-[32px] bg-white/10 rounded p-0.5 sm:p-1",children:l>0&&[...Array(Math.min(l,12))].map((e,t)=>(0,a.jsx)("span",{className:"text-base sm:text-xl",children:"\uD83C\uDF4E"},t))})]},t))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-lg sm:rounded-xl px-2 sm:px-4 py-1.5 sm:py-3 border border-green-400/30 w-full justify-center",children:[(0,a.jsx)("span",{className:"text-white font-bold text-sm sm:text-base",children:"Each gets:"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:2,value:B,onChange:e=>H(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-11 h-10 sm:w-14 sm:h-12 text-xl sm:text-2xl border-4 border-green-400/50 bg-white text-purple-700 rounded text-center focus:border-green-300 focus:outline-none placeholder:text-purple-300",autoFocus:!0}),(0,a.jsx)("span",{className:"text-white text-lg sm:text-xl",children:"\uD83C\uDF4E"})]})]})})()}),5===D.id&&(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl p-2 sm:p-5",children:(()=>{let e=W[_],t=e.divisor||4,s=e.dividend||19,l=es?parseInt(es):0,n=l*t;return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:[s," \xf7 ",t," = ?"]})}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-2 sm:p-4 w-full max-w-xs",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 mb-1 sm:mb-3",children:(0,a.jsxs)("span",{className:"text-white/70 text-[10px] sm:text-sm",children:["How many times does ",t," fit in ",s,"?"]})}),(0,a.jsx)("div",{className:"flex justify-center mb-2 sm:mb-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-400 mr-1 pt-5 sm:pt-6",children:t}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"flex justify-center mb-0.5 sm:mb-1",children:(0,a.jsx)("input",{ref:eb,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:es,onChange:e=>ea(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-2xl sm:text-3xl md:text-4xl border-4 border-green-400/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"})}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-1.5 sm:w-2 h-8 sm:h-10 border-t-4 border-l-4 border-white rounded-tl-lg"}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-yellow-400 px-2 sm:px-3 border-t-4 border-white",children:s})]})]})]})}),l>0&&(0,a.jsxs)("div",{className:"border-t border-white/30 pt-2 sm:pt-3 mt-1 sm:mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2 text-cyan-400",children:[(0,a.jsxs)("span",{className:"text-xs sm:text-sm",children:[t," \xd7 ",l," ="]}),(0,a.jsx)("span",{className:"text-lg sm:text-xl font-bold",children:n})]}),(0,a.jsx)("div",{className:"flex justify-center mt-1 sm:mt-2",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-yellow-400 text-base sm:text-lg",children:s}),(0,a.jsxs)("div",{className:"text-red-400 text-base sm:text-lg",children:["- ",n]}),(0,a.jsx)("div",{className:"border-t-2 border-white/50 mt-0.5 sm:mt-1 pt-0.5 sm:pt-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1 sm:gap-2",children:[(0,a.jsx)("span",{className:"text-white/70 text-[10px] sm:text-sm",children:"Left over:"}),(0,a.jsx)("input",{ref:eg,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:el,onChange:e=>en(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 text-xl sm:text-2xl md:text-3xl border-4 border-orange-400/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"})]})})]})})]}),0===l&&(0,a.jsx)("p",{className:"text-white/50 text-[10px] sm:text-xs text-center mt-1 sm:mt-2",children:"Enter quotient first, then find the remainder"})]}),l>0&&el&&(0,a.jsxs)("div",{className:"bg-white/10 rounded-lg sm:rounded-xl p-2 sm:p-3 text-center",children:[(0,a.jsxs)("p",{className:"text-white text-xs sm:text-sm",children:[s," = (",t," \xd7 ",l,") + ",el]}),(0,a.jsxs)("p",{className:"text-white text-xs sm:text-sm",children:[s," = ",n," + ",el]})]})]})})()}),6===D.id&&(0,a.jsx)("div",{className:"bg-white/10 border border-white/20 rounded-lg sm:rounded-2xl p-2 sm:p-5",children:(()=>{let e=W[_],t=e.divisor||3,s=e.dividend||47,l=Math.floor(s/10),n=s%10,i=ee?parseInt(ee):0,r=X?parseInt(X):0,d=i*t,c=l-d,o=10*c+n,m=r*t;return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:[s," \xf7 ",t," = ?"]}),(0,a.jsx)("p",{className:"text-white/60 text-[10px] sm:text-sm",children:"Two-digit quotient!"})]}),(0,a.jsxs)("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-2 sm:p-4 w-full max-w-sm",children:[(0,a.jsxs)("div",{className:"font-mono text-lg sm:text-xl flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-end mb-0.5 sm:mb-1",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsx)("input",{ref:eu,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:ee,onChange:e=>et(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 text-xl sm:text-2xl md:text-3xl border-4 border-green-400/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold mx-0.5"}),(0,a.jsx)("input",{ref:eh,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:X,onChange:e=>$(e.target.value.replace(/[^0-9]/g,"")),disabled:P||!ee,placeholder:"?",className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 text-xl sm:text-2xl md:text-3xl border-4 border-green-400/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold disabled:opacity-50 mx-0.5"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-blue-400 font-bold w-8 sm:w-10 text-right text-base sm:text-xl",children:t}),(0,a.jsx)("div",{className:"w-3 sm:w-4 h-6 sm:h-8 border-t-4 border-l-4 border-white rounded-tl-lg"}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold w-8 sm:w-10 text-center",children:l}),(0,a.jsx)("span",{className:"text-yellow-400 font-bold w-8 sm:w-10 text-center",children:n})]}),i>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center text-cyan-400 text-base sm:text-xl",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsxs)("span",{className:"w-8 sm:w-10 text-center",children:["-",d]}),(0,a.jsx)("div",{className:"w-8 sm:w-10"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsx)("div",{className:"w-8 sm:w-10 border-t-2 border-white"}),(0,a.jsx)("div",{className:"w-8 sm:w-10"})]}),(0,a.jsxs)("div",{className:"flex items-center text-base sm:text-xl",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsx)("span",{className:"text-white w-8 sm:w-10 text-center",children:c>=0?c:"?"}),(0,a.jsx)("span",{className:"text-pink-400 w-8 sm:w-10 text-center",children:n})]})]}),i>0&&r>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center text-cyan-400 text-base sm:text-xl",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsx)("span",{className:"w-8 sm:w-10 text-center",children:m>=10?"-".concat(Math.floor(m/10)):""}),(0,a.jsx)("span",{className:"w-8 sm:w-10 text-center",children:m>=10?m%10:"-".concat(m)})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 sm:w-10"}),(0,a.jsx)("div",{className:"w-3 sm:w-4"}),(0,a.jsx)("div",{className:"w-8 sm:w-10 border-t-2 border-white"}),(0,a.jsx)("div",{className:"w-8 sm:w-10 border-t-2 border-white"})]})]})]}),i>0&&r>0&&(0,a.jsx)("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-white/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[(0,a.jsx)("span",{className:"text-white/70 text-[10px] sm:text-sm",children:"Remainder:"}),(0,a.jsx)("input",{ref:eg,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:el,onChange:e=>en(e.target.value.replace(/[^0-9]/g,"")),disabled:P,placeholder:"?",className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 text-xl sm:text-2xl md:text-3xl border-4 border-orange-400/50 bg-white text-purple-700 rounded-lg text-center focus:border-yellow-400 focus:outline-none placeholder:text-purple-300 font-bold"})]})}),(0,a.jsxs)("div",{className:"mt-2 sm:mt-3 text-[10px] sm:text-xs text-white/50 text-center",children:[!i&&(0,a.jsxs)("p",{children:["First: ",t," into ",l," = ?"]}),i>0&&!r&&(0,a.jsxs)("p",{children:["Next: ",t," into ",o," = ?"]}),i>0&&r>0&&!el&&(0,a.jsx)("p",{children:"What's left over?"})]})]}),i>0&&r>0&&el&&(0,a.jsx)("div",{className:"bg-white/10 rounded-lg sm:rounded-xl p-2 sm:p-3 text-center",children:(0,a.jsxs)("p",{className:"text-white text-xs sm:text-sm",children:[s," \xf7 ",t," = ",i,r," R",el]})})]})})()})]}),P&&(0,a.jsxs)(n.E.div,{initial:{scale:0},animate:{scale:1},className:"text-center mb-2 sm:mb-4 landscape:mb-1 p-2 sm:p-4 landscape:p-1.5 rounded-xl sm:rounded-2xl landscape:rounded-lg border ".concat(O?"bg-green-500/30 border-green-400/50":"bg-red-500/30 border-red-400/50"),children:[(0,a.jsx)("p",{className:"text-xl sm:text-3xl landscape:text-base font-bold text-white mb-1 sm:mb-2 landscape:mb-0",children:O?"✅ Correct!":"❌ Not quite!"}),!O&&(0,a.jsx)("p",{className:"text-base sm:text-xl landscape:text-sm text-white",children:6===D.id?"Answer: ".concat(W[_].quotient," R").concat(W[_].remainder||0):5===D.id?"Answer: ".concat(W[_].quotient," R").concat(W[_].remainder):3===D.id?"".concat(W[_].num1," \xd7 ").concat(W[_].num2," = ").concat(W[_].a):1===D.id?"".concat(W[_].groups," groups \xd7 ").concat(W[_].items," = ").concat(W[_].a):"Answer: ".concat(W[_].a)})]}),P?O&&Y<5?(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{A((_+1)%W.length),eR()},className:"w-full h-11 sm:h-14 landscape:h-9 bg-gradient-to-r from-cyan-500 to-blue-500 border border-cyan-400/50 rounded-xl sm:rounded-2xl landscape:rounded-lg font-bold text-white text-base sm:text-lg landscape:text-sm shadow-[0_0_20px_rgba(34,211,238,0.4)]",children:"Next Question →"}):O?null:(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{A((_+1)%W.length),eR()},className:"w-full h-11 sm:h-14 landscape:h-9 bg-gradient-to-r from-orange-500 to-amber-500 border border-orange-400/50 rounded-xl sm:rounded-2xl landscape:rounded-lg font-bold text-white text-base sm:text-lg landscape:text-sm shadow-[0_0_20px_rgba(249,115,22,0.4)]",children:"\uD83D\uDD04 Try Another Question"}):(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{if(P)return;let e=W[_],t=(null==D?void 0:D.id)||0,s=!1;if(1===t)s=parseInt(ed)===e.groups&&parseInt(eo)===e.items&&parseInt(ex)===e.a;else if(2===t)s=parseInt(X)===e.onesResult&&parseInt(ee)===e.tensResult;else if(3===t){let t=e.num1||12,a=e.num2||14,l=a%10*t,n=t*Math.floor(a/10),i=e.a,r=Math.floor(l/100),d=parseInt(X)===l%10&&parseInt(ee)===Math.floor(l/10)%10&&(0===r||parseInt(J)===r),c=parseInt(el)===n%10&&parseInt(es)===Math.floor(n/10),o=parseInt(ex)===i%10&&parseInt(eo)===Math.floor(i/10)%10&&parseInt(ed)===Math.floor(i/100);s=d&&c&&o}else if(5===t)s=parseInt(es)===e.quotient&&parseInt(el)===(e.remainder||0);else if(6===t)s=(parseInt(ee+X)||0)===e.quotient&&parseInt(el)===(e.remainder||0);else{if(!B)return;s=parseInt(B)===e.a}if(Q(s),G(!0),s){let e=Y+1;Z(e),(0,p.Hs)("correct","medium"),e>=5?(eM("Perfect! You got 5 correct!"),setTimeout(()=>eL(),1500)):eM("Correct! ".concat(5-e," more to go!"))}else(0,p.Hs)("incorrect","light"),5===t?eM("Not quite. The answer is ".concat(e.quotient," remainder ").concat(e.remainder,". Try another one!")):6===t?eM("Not quite. The answer is ".concat(e.quotient," remainder ").concat(e.remainder||0,". Try another one!")):3===t?eM("Not quite. ".concat(e.num1," times ").concat(e.num2," equals ").concat(e.a,". Try another one!")):1===t?eM("Not quite. ".concat(e.groups," groups of ").concat(e.items," equals ").concat(e.a,". Try another one!")):eM("Not quite. The answer is ".concat(e.a,". Try another one!"))},disabled:ek(D.id)?5===D.id?!es||!el:6===D.id?!ee||!X||!el:1===D.id?!ed||!eo||!ex:3===D.id?!X||!ee||!el||!es||!ed||!eo||!ex:!X||!ee:!B,className:"w-full h-11 sm:h-14 landscape:h-9 bg-gradient-to-r from-green-500 to-emerald-500 border border-green-400/50 rounded-xl sm:rounded-2xl landscape:rounded-lg font-bold text-white text-base sm:text-lg landscape:text-sm disabled:opacity-50 shadow-[0_0_20px_rgba(34,197,94,0.4)]",children:"Check Answer ✓"})]}),"complete"===C&&(0,a.jsxs)("div",{className:"text-center pt-4 landscape:pt-2 landscape:flex landscape:flex-col landscape:items-center",children:[(0,a.jsx)(n.E.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"text-6xl landscape:text-5xl mb-2 landscape:mb-1",children:"\uD83C\uDFC6"}),(0,a.jsx)("h2",{className:"text-2xl landscape:text-xl font-bold text-white mb-1 landscape:mb-0.5 drop-shadow-lg",children:"Lesson Complete!"}),(0,a.jsx)("p",{className:"text-lg landscape:text-base text-white/80 mb-2 landscape:mb-1",children:"You got 5 correct answers!"}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-500/30 to-amber-500/30 border border-yellow-400/50 rounded-xl landscape:rounded-lg p-2 landscape:p-1.5 landscape:px-4 mb-4 landscape:mb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-yellow-300 text-xl landscape:text-lg",children:[(0,a.jsx)("span",{children:"\uD83E\uDE99"}),(0,a.jsxs)("span",{className:"font-bold",children:["+",V?D.coinReward+D.firstTimeBonus:2]})]})}),(0,a.jsxs)("div",{className:"flex gap-3 landscape:gap-2 w-full landscape:max-w-xs",children:[(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:eF,className:"flex-1 h-10 landscape:h-8 bg-white/10 border border-white/20 rounded-xl landscape:rounded-lg font-bold text-white text-sm landscape:text-xs",children:"Done"}),(0,a.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{D&&(M("intro"),k(0),L(0),I(-1),Z(0),A(0),U(!1))},className:"flex-1 h-10 landscape:h-8 bg-gradient-to-r from-purple-500 to-violet-500 border border-purple-400/50 rounded-xl landscape:rounded-lg font-bold text-white text-sm landscape:text-xs shadow-[0_0_15px_rgba(168,85,247,0.4)]",children:"\uD83D\uDD04 Replay"})]})]})]})})})]})}}}]);