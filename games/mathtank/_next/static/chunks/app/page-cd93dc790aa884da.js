(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1071:function(e,a,t){Promise.resolve().then(t.bind(t,6565))},6565:function(e,a,t){"use strict";t.d(a,{default:function(){return C}});var i=t(7437),l=t(2265),n=t(166),s=t(6440),o=t(9692),r=t(2474),c=t(4326),d=t(2672),u=t(3457),h=t(5712),m=t(6788),f=t(6689),g=t(663);let p=(0,n.default)(()=>Promise.all([t.e(224),t.e(895),t.e(58)]).then(t.bind(t,6895)).then(e=>({default:e.FightSetupScreen})),{loadableGenerated:{webpack:()=>[6895]},loading:()=>(0,i.jsx)(S,{message:"Loading..."}),ssr:!1}),x=(0,n.default)(()=>Promise.all([t.e(224),t.e(633),t.e(797)]).then(t.bind(t,797)),{loadableGenerated:{webpack:()=>[797]},loading:()=>(0,i.jsx)(S,{message:"Preparing Battle..."}),ssr:!1}),b=(0,n.default)(()=>Promise.all([t.e(224),t.e(561),t.e(380)]).then(t.bind(t,3561)).then(e=>({default:e.GarageScreen})),{loadableGenerated:{webpack:()=>[3561]},loading:()=>(0,i.jsx)(S,{message:"Loading Garage..."}),ssr:!1}),y=(0,n.default)(()=>Promise.all([t.e(625),t.e(334)]).then(t.bind(t,3625)).then(e=>({default:e.LessonsScreen})),{loadableGenerated:{webpack:()=>[3625]},loading:()=>(0,i.jsx)(S,{message:"Loading Lessons..."}),ssr:!1}),v=(0,n.default)(()=>Promise.all([t.e(415),t.e(294)]).then(t.bind(t,415)).then(e=>({default:e.AchievementsScreen})),{loadableGenerated:{webpack:()=>[415]},loading:()=>(0,i.jsx)(S,{message:"Loading..."}),ssr:!1}),j=(0,n.default)(()=>Promise.all([t.e(85),t.e(920)]).then(t.bind(t,8085)).then(e=>({default:e.SettingsScreen})),{loadableGenerated:{webpack:()=>[8085]},loading:()=>(0,i.jsx)(S,{message:"Loading..."}),ssr:!1}),w=(0,n.default)(()=>Promise.all([t.e(224),t.e(636),t.e(633),t.e(730)]).then(t.bind(t,1730)).then(e=>({default:e.MissileUXDashboard})),{loadableGenerated:{webpack:()=>[1730]},loading:()=>(0,i.jsx)(S,{message:"Loading Dashboard..."}),ssr:!1}),N=(0,n.default)(()=>Promise.all([t.e(224),t.e(636),t.e(231),t.e(684)]).then(t.bind(t,5231)),{loadableGenerated:{webpack:()=>[5231]},loading:()=>(0,i.jsx)(S,{message:"Launching to Space..."}),ssr:!1}),k=(0,n.default)(()=>t.e(465).then(t.bind(t,4465)),{loadableGenerated:{webpack:()=>[4465]},loading:()=>(0,i.jsx)(S,{message:"Loading Practice..."}),ssr:!1}),E=["Calculating trajectory... \uD83C\uDFAF","Solving for X... \uD83E\uDD14","Loading missiles... \uD83D\uDE80","Counting ammo... 1+1+1...","Polishing tank armor... ✨","Warming up engines... \uD83D\uDD25","Multiplying power... \xd7100!","Dividing enemies... \xf72","Adding reinforcements... +10","Fueling up... ⛽"];function S(e){let{message:a="Loading..."}=e,[t,n]=(0,l.useState)(0);return(0,l.useEffect)(()=>{n(Math.floor(Math.random()*E.length))},[]),(0,i.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-gradient-to-br from-pink-200 via-purple-200 to-blue-200 overflow-hidden",children:[(0,i.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,i.jsx)("div",{className:"absolute top-0 right-0 w-72 h-72 bg-gradient-to-br from-pink-300/50 to-purple-300/50 rounded-full blur-3xl"}),(0,i.jsx)("div",{className:"absolute bottom-0 left-0 w-72 h-72 bg-gradient-to-br from-blue-300/50 to-cyan-300/50 rounded-full blur-3xl"})]}),(0,i.jsx)(s.E.div,{animate:{y:[0,-20,0],rotate:[-5,5,-5]},transition:{repeat:1/0,duration:.8,ease:"easeInOut"},className:"text-6xl mb-4",children:"\uD83C\uDFAE"}),(0,i.jsx)("div",{className:"relative w-32 h-16 mb-4",children:["+","−","\xd7","\xf7","="].map((e,a)=>(0,i.jsx)(s.E.span,{className:"absolute text-2xl font-bold",style:{left:"".concat(25*a,"%"),color:["#ec4899","#8b5cf6","#3b82f6","#10b981","#f59e0b"][a]},animate:{y:[0,-15,0],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.2,delay:.2*a,ease:"easeInOut"},children:e},e))}),(0,i.jsx)("div",{className:"w-48 h-3 bg-white/60 rounded-full overflow-hidden mb-4 shadow-inner",children:(0,i.jsx)(s.E.div,{className:"h-full bg-gradient-to-r from-pink-400 via-purple-500 to-blue-400 rounded-full",animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},style:{width:"50%"}})}),(0,i.jsx)(s.E.div,{className:"text-gray-800 text-lg font-bold mb-2",animate:{opacity:[.7,1,.7]},transition:{repeat:1/0,duration:1.5},children:a}),(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:E[t]})]})}let D=(0,n.default)(()=>t.e(370).then(t.bind(t,4370)),{loadableGenerated:{webpack:()=>[4370]},loading:()=>null,ssr:!1}),L="mathTank_onboardingComplete";function P(){let e="battle"===new URLSearchParams(window.location.search).get("mode"),[a,t]=(0,l.useState)(e?"fight":"home"),[n,r]=(0,l.useState)(u.av.Easy),[c,E]=(0,l.useState)(!1),S=(0,l.useRef)([e?"fight":"home"]);(0,l.useEffect)(()=>{!e&&(localStorage.getItem(L)||setTimeout(()=>E(!0),500))},[]),(0,l.useEffect)(()=>{(0,h.y3)();let e=(0,m.nw)();return()=>{(0,h.$$)(),e(),(0,m.NB)()}},[]),(0,l.useEffect)(()=>{(0,m.NB)(),(0,h.CP)(a)},[a]),(0,l.useEffect)(()=>{if(!f.dV.isNativePlatform())return;let e=g.g.addListener("backButton",e=>{let{canGoBack:a}=e;S.current.length>1?(S.current.pop(),t(S.current[S.current.length-1])):g.g.minimizeApp()}),a=g.g.addListener("appStateChange",e=>{let{isActive:a}=e;a||(0,m.NB)()});return()=>{e.then(e=>e.remove()),a.then(e=>e.remove())}},[]);let P=(0,l.useCallback)(a=>{e&&"fight"!==a||(S.current[S.current.length-1]!==a&&("home"===a?S.current=["home"]:S.current.push(a)),t(a))},[]),C=(0,l.useCallback)(e=>{r(e),"fight"!==S.current[S.current.length-1]&&S.current.push("fight"),t("fight")},[]);return(0,i.jsxs)("div",{className:"w-full min-h-screen overflow-hidden",children:[(0,i.jsxs)(o.M,{mode:"wait",children:["home"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},className:"w-full h-full",children:(0,i.jsx)(d.C,{onNavigate:P})},"home"),"fightSetup"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"w-full h-full",children:(0,i.jsx)(p,{onNavigate:P,onStartBattle:C})},"fightSetup"),"fight"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full h-full",children:(0,i.jsx)(x,{onBack:()=>P("home"),onBattleSetup:()=>P("fightSetup"),difficulty:n})},"fight"),"garage"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"w-full h-full",children:(0,i.jsx)(b,{onBack:()=>P("home")})},"garage"),"lessons"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"w-full h-full",children:(0,i.jsx)(y,{onNavigate:P})},"lessons"),"practice"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"w-full h-full",children:(0,i.jsx)(k,{onBack:()=>P("lessons")})},"practice"),"achievements"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"w-full h-full",children:(0,i.jsx)(v,{onNavigate:P})},"achievements"),"settings"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"w-full h-full",children:(0,i.jsx)(j,{onNavigate:P})},"settings"),"missileUX"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full h-full",children:(0,i.jsx)(w,{onNavigate:P})},"missileUX"),"saveUniverse"===a&&(0,i.jsx)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full h-full",children:(0,i.jsx)(N,{onBack:()=>P("home")})},"saveUniverse")]}),(0,i.jsx)(o.M,{children:c&&"home"===a&&(0,i.jsx)(D,{onComplete:()=>{localStorage.setItem(L,"true"),E(!1)}})})]})}function C(){return(0,i.jsx)(r.U,{children:(0,i.jsx)(c.V,{children:(0,i.jsx)(P,{})})})}}},function(e){e.O(0,[120,672,971,117,744],function(){return e(e.s=1071)}),_N_E=e.O()}]);