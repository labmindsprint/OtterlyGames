"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{9211:function(e,a,s){s.r(a),s.d(a,{TankShopScreen:function(){return f}});var l=s(7437),t=s(2265),n=s(6440),c=s(9692),d=s(9637),i=s(2451),x=s(6337),r=s(401),h=s(407),o=s(8997),p=s(1239),m=s(8906),u=s(2474),w=s(5712),b=s(8939);function f(e){let{onNavigate:a}=e,{coins:s,customizations:f,setCustomization:j,unlockTank:g,isTankUnlocked:N}=(0,u.G)(),[y,v]=(0,t.useState)(0),[k,E]=(0,t.useState)(!1),[C,T]=(0,t.useState)(null),D=Object.values(b.Hr),H=D[y],S=N(H.type),Z=f.selectedTank===H.type;return(0,l.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex flex-col",style:{minHeight:"100dvh",maxHeight:"100dvh",paddingTop:"calc(env(safe-area-inset-top, 0px) + 20px)",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 8px)",paddingLeft:"calc(env(safe-area-inset-left, 0px) + 12px)",paddingRight:"calc(env(safe-area-inset-right, 0px) + 12px)"},children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3 landscape:mb-2 relative z-20",children:[(0,l.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{(0,w.GN)("click"),a("home")},className:"w-10 h-10 landscape:w-8 landscape:h-8 bg-white/30 backdrop-blur-md rounded-xl landscape:rounded-lg flex items-center justify-center shadow-lg",children:(0,l.jsx)(d.Z,{className:"w-5 h-5 landscape:w-4 landscape:h-4 text-white"})}),(0,l.jsx)("h1",{className:"text-xl landscape:text-base font-bold text-white drop-shadow-lg",children:"\uD83D\uDE97 Tank Shop"}),(0,l.jsxs)(n.E.div,{animate:{scale:[1,1.05,1]},transition:{repeat:1/0,duration:2},className:"bg-yellow-400 rounded-xl landscape:rounded-lg px-2.5 py-1.5 landscape:px-2 landscape:py-1 shadow-lg flex items-center gap-1",children:[(0,l.jsx)("span",{className:"text-base landscape:text-sm",children:"\uD83E\uDE99"}),(0,l.jsx)("span",{className:"text-base landscape:text-sm font-bold text-yellow-900",children:s})]})]}),(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-md rounded-2xl landscape:rounded-xl p-4 landscape:p-3 mb-3 landscape:mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-3 landscape:gap-2",children:[(0,l.jsx)(n.E.button,{whileTap:{scale:.9},onClick:()=>{(0,w.GN)("click"),v(e=>(e-1+D.length)%D.length)},className:"w-10 h-10 landscape:w-8 landscape:h-8 bg-white/30 rounded-full flex items-center justify-center",children:(0,l.jsx)(i.Z,{className:"w-5 h-5 landscape:w-4 landscape:h-4 text-white"})}),(0,l.jsxs)(n.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"text-center",children:[(0,l.jsxs)(n.E.div,{animate:Z?{scale:[1,1.1,1]}:{},transition:{repeat:1/0,duration:2},className:"relative",children:[(0,l.jsx)("span",{className:"text-6xl landscape:text-4xl",children:H.emoji}),!S&&(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsx)("div",{className:"bg-black/60 rounded-full p-2 landscape:p-1.5",children:(0,l.jsx)(x.Z,{className:"w-6 h-6 landscape:w-4 landscape:h-4 text-white"})})}),Z&&(0,l.jsx)("div",{className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-0.5",children:(0,l.jsx)(r.Z,{className:"w-4 h-4 landscape:w-3 landscape:h-3 text-white"})})]}),(0,l.jsx)("h2",{className:"text-xl landscape:text-base font-bold text-white mt-1.5",children:H.name}),(0,l.jsx)("p",{className:"text-white/70 text-sm landscape:text-xs",children:H.description})]},H.type),(0,l.jsx)(n.E.button,{whileTap:{scale:.9},onClick:()=>{(0,w.GN)("click"),v(e=>(e+1)%D.length)},className:"w-10 h-10 landscape:w-8 landscape:h-8 bg-white/30 rounded-full flex items-center justify-center",children:(0,l.jsx)(h.Z,{className:"w-5 h-5 landscape:w-4 landscape:h-4 text-white"})})]}),(0,l.jsx)("div",{className:"flex justify-center gap-1.5 mt-3 landscape:mt-2",children:D.map((e,a)=>(0,l.jsx)("div",{className:"w-2 h-2 rounded-full transition-all ".concat(a===y?"bg-white w-4":"bg-white/40")},a))})]}),(0,l.jsxs)("div",{className:"bg-white/20 backdrop-blur-md rounded-xl landscape:rounded-lg p-3 landscape:p-2 mb-3 landscape:mb-1.5 landscape:hidden",children:[(0,l.jsx)("h3",{className:"text-white font-bold mb-2 text-sm",children:"Stats"}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"w-4 h-4 text-red-400"}),(0,l.jsx)("span",{className:"text-white text-xs w-12",children:"HP"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-white/20 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-red-400 rounded-full",style:{width:"".concat(H.baseHP/130*100,"%")}})}),(0,l.jsx)("span",{className:"text-white/70 text-xs w-8",children:H.baseHP})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"w-4 h-4 text-yellow-400"}),(0,l.jsx)("span",{className:"text-white text-xs w-12",children:"Speed"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-white/20 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-yellow-400 rounded-full",style:{width:"".concat(H.fireSpeed/1.5*100,"%")}})}),(0,l.jsxs)("span",{className:"text-white/70 text-xs w-8",children:[Math.round(100*H.fireSpeed),"%"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"w-4 h-4 text-blue-400"}),(0,l.jsx)("span",{className:"text-white text-xs w-12",children:"Defense"}),(0,l.jsx)("div",{className:"flex-1 h-2 bg-white/20 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-blue-400 rounded-full",style:{width:"".concat(H.defense/1.5*100,"%")}})}),(0,l.jsxs)("span",{className:"text-white/70 text-xs w-8",children:[Math.round(100*H.defense),"%"]})]})]}),H.trait&&(0,l.jsx)("div",{className:"mt-2 bg-yellow-400/20 rounded-lg p-1.5 text-center",children:(0,l.jsxs)("span",{className:"text-yellow-300 text-xs font-bold",children:["✨ ",H.trait]})})]}),S?(0,l.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{S&&(j("selectedTank",H.type),(0,w.Hs)("click","medium"))},disabled:Z,className:"\n            w-full h-12 landscape:h-10 rounded-xl landscape:rounded-lg font-bold text-base landscape:text-sm shadow-lg\n            ".concat(Z?"bg-green-500 text-white":"bg-white text-purple-600","\n          "),children:Z?"✓ Equipped":"Equip Tank"}):(0,l.jsxs)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(!0),disabled:s<H.coinCost,className:"\n            w-full h-12 landscape:h-10 rounded-xl landscape:rounded-lg font-bold text-base landscape:text-sm shadow-lg\n            ".concat(s>=H.coinCost?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-500 text-gray-300","\n          "),children:["\uD83E\uDE99 ",H.coinCost," - Buy Tank"]}),(0,l.jsx)(c.M,{children:k&&(0,l.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,l.jsxs)(n.E.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl landscape:rounded-xl p-4 landscape:p-3 max-w-sm landscape:max-w-xs w-full text-center",children:[(0,l.jsx)("span",{className:"text-5xl landscape:text-4xl",children:H.emoji}),(0,l.jsxs)("h2",{className:"text-xl landscape:text-base font-bold text-white mt-2",children:["Buy ",H.name,"?"]}),(0,l.jsx)("p",{className:"text-white/70 text-sm landscape:text-xs mt-1",children:H.description}),(0,l.jsx)("div",{className:"bg-white/20 rounded-xl landscape:rounded-lg p-2 mt-3",children:(0,l.jsxs)("span",{className:"text-yellow-300 text-xl landscape:text-base font-bold",children:["\uD83E\uDE99 ",H.coinCost]})}),(0,l.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,l.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>E(!1),className:"flex-1 h-10 landscape:h-8 bg-white/30 rounded-xl landscape:rounded-lg font-bold text-white text-sm",children:"Cancel"}),(0,l.jsx)(n.E.button,{whileTap:{scale:.95},onClick:()=>{g(H.type,H.coinCost)?((0,w.Hs)("unlock","heavy"),T(H.name),setTimeout(()=>T(null),2e3)):(0,w.Hs)("error","light"),E(!1)},className:"flex-1 h-10 landscape:h-8 bg-white rounded-xl landscape:rounded-lg font-bold text-purple-600 text-sm",children:"Buy!"})]})]})})}),(0,l.jsx)(c.M,{children:C&&(0,l.jsx)(n.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"fixed left-4 right-4 bg-green-500 rounded-2xl p-4 text-center z-50",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 96px)"},children:(0,l.jsxs)("p",{className:"text-white font-bold",children:["\uD83C\uDF89 ",C," unlocked!"]})})})]})}}}]);