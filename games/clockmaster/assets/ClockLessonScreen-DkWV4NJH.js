const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DBm50toB.js","assets/index-DPmT_9js.css"])))=>i.map(i=>d[i]);
import{c as R,u as he,a as de,r as i,p as me,s as pt,o as fe,b as z,d as w,e as gt,j as s,m as u,A as yt,X as xe,f as pe,g as ge,_ as ye,i as wt}from"./index-DBm50toB.js";import{H as we}from"./house-BeGuLZfb.js";import{S as Kt}from"./star-Cm6Mt-SJ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Me=R("arrow-left",be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ft=R("arrow-right",ve);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Se=R("circle-check-big",je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],qt=R("gift",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ut=R("lightbulb",Ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],$e=R("moon",Te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],He=R("sun",Ae),Ot={1:{instruction:"ðŸ‘† Drag the SHORT hand to visit all 12 hours!",targetHours:[1,2,3,4,5,6,7,8,9,10,11,12]},2:{instruction:"ðŸ‘† Move LONG hand to 12, 3, 6, 9 and check the time!",targetHours:[12],targetMinutes:[0,15,30,45]},3:{instruction:"ðŸ‘† Set the clock to 3:30, then 6:15, then 9:45!",targetHours:[3,6,9],targetMinutes:[30,15,45]},4:{instruction:"ðŸ‘† Rotate the hour hand TWO full circles to see day & night!",targetHours:[],fullRotations:2,requireAMPMToggle:!0},5:{instruction:"ðŸ‘† Set the clock to 14:00, 18:00, and 22:00!",targetHours:[2,6,10],targetMinutes:[0,0,0]},6:{instruction:"ðŸ‘† Show Quarter Past 3, Half Past 6, Quarter To 10!",targetHours:[3,6,9],targetMinutes:[15,30,45]},7:{instruction:"ðŸ‘† Start at 2:00, add 30 minutes by moving forward!",targetHours:[2],targetMinutes:[30]},8:{instruction:"ðŸ‘† Start at 4:30, subtract 15 minutes by moving backward!",targetHours:[4],targetMinutes:[15]}};function qe({onNavigate:bt}){var Et,Lt;const{progress:G,completeLessonProgress:Wt,addCoins:Mt,updateDailyProgress:Bt}=he(),vt=de(ge.HINT_UNLOCK);i.useEffect(()=>{me("main")},[]);const[e,nt]=i.useState(1),[N,j]=i.useState(-90),[I,T]=i.useState(-90),[S,O]=i.useState(null),[Vt,jt]=i.useState(!1),[ot,St]=i.useState(0),Xt=i.useRef(!1),[$,at]=i.useState(!0),[b,Q]=i.useState(!1),[Z,J]=i.useState([]),[v,it]=i.useState(!1),[Pe,Yt]=i.useState(!1),[Ce,Gt]=i.useState(0),[kt,rt]=i.useState(0),[E,Nt]=i.useState(0),Qt=i.useRef(12),[g,tt]=i.useState(!1),[r,Zt]=i.useState(null),[lt,W]=i.useState(0),[_e,B]=i.useState(0),[et,L]=i.useState(null),[Jt,st]=i.useState(!1),[ct,ut]=i.useState(!1),[Ie,Tt]=i.useState("start"),[De,$t]=i.useState(!0),[K,ht]=i.useState(!1),dt=i.useRef(null),V=i.useRef(null),[P,F]=i.useState(!0),[X,Y]=i.useState(!1),y=[{title:"Understanding the Hour Hand",instruction:"The SHORT hand shows the hours (1-12). It's the slowest! Drag it around!",focus:"hour",voiceKey:"lesson1_intro",hintKey:"lesson1_hint"},{title:"Understanding the Minute Hand",instruction:"The long hand shows the minutes. Try moving it!",focus:"minute",voiceKey:"lesson2_intro",hintKey:"lesson2_hint"},{title:"Reading Time Together",instruction:"Now let's read time using both hands!",focus:"both",voiceKey:"lesson3_intro",hintKey:"lesson3_hint"},{title:"AM and PM - Day & Night",instruction:"AM is morning (midnight to noon), PM is afternoon to night. Watch the sky change!",focus:"ampm",voiceKey:"lesson4_intro",hintKey:"lesson4_hint"},{title:"The 24-Hour Clock",instruction:"Some clocks count from 0 to 23! After 12:59 PM comes 13:00!",focus:"24hour",voiceKey:"lesson5_intro",hintKey:"lesson5_hint"},{title:"Quarter & Half Past",instruction:"15 min = quarter past, 30 min = half past, 45 min = quarter to!",focus:"quarters",voiceKey:"lesson6_intro",hintKey:"lesson6_hint"},{title:"Adding Time âž•",instruction:"Add minutes to move the clock forward! Watch the hands move!",focus:"add",voiceKey:"lesson7_intro",hintKey:"lesson7_hint"},{title:"Subtracting Time âž–",instruction:"Subtract minutes to move the clock backward! Go back in time!",focus:"subtract",voiceKey:"lesson8_intro",hintKey:"lesson8_hint"}],mt=y.length;i.useEffect(()=>()=>{pt()},[]),i.useEffect(()=>{const t=fe(n=>{if(n)if(wt(),$){const o=y[e-1];z(o.voiceKey)}else b&&!v&&z(`tutorial${e}_task`)});return()=>t()},[e,$,b,v,g]),i.useEffect(()=>{if($&&!g){const t=y[e-1];let n=!1;return(async()=>{wt(),Xt.current=!0,await pe(t.voiceKey),n||(await new Promise(a=>setTimeout(a,1500)),n||(at(!1),Q(!0)))})(),()=>{n=!0}}},[e,$,g]),i.useEffect(()=>{if(!$&&b&&!v){const t=setTimeout(()=>{wt(),z(`tutorial${e}_task`)},300);return()=>clearTimeout(t)}},[e,$,b,v]),i.useEffect(()=>{at(!0),Q(!1),J([]),it(!1),Yt(!1),Gt(0),rt(0),Nt(0),Qt.current=12,j(-90),T(-90),F(!0),e===7&&(j(-30),T(-90)),e===8&&(j(45),T(90))},[e]),i.useEffect(()=>{if(!b||v)return;const t=te(),n=Ot[e];if(n)if(e===1){const o=t.hours;Z.includes(o)||(J(a=>[...a,o]),w("tick"),Z.length+1>=12&&q())}else if(e===2){const o=t.minutes;[0,15,30,45].includes(o)&&!Z.includes(o)&&(J(a=>[...a,o]),w("tick"),Z.length+1>=4&&q())}else if([3,5,6].includes(e)){const o=n.targetHours,a=n.targetMinutes||[];if(E<o.length){const c=o[E],h=a[E]||0;t.hours===c&&t.minutes===h&&(e!==5||!P)&&(Nt(d=>d+1),J(d=>[...d,E]),w("correct"),E+1>=o.length&&q())}}else e===4?kt>=4&&q():e===7?t.hours===2&&t.minutes===30&&q():e===8&&t.hours===4&&t.minutes===15&&q()},[N,I,P,b,v,E,kt]);const te=()=>{const t=(N%360+360)%360,n=(I%360+360)%360;let o=Math.floor((t+90)%360/30)%12,a=Math.round((n+90)%360/6)%60;return o===0&&(o=12),a=Math.round(a/5)*5,a===60&&(a=0),{hours:o,minutes:a}},q=()=>{v||(it(!0),w("levelUp"),gt("correct","heavy"),setTimeout(()=>{z("tutorial_complete")},300),setTimeout(()=>{Q(!1),ht(!0)},4500))};i.useEffect(()=>(S&&!g&&!$&&!b&&!K&&(dt.current||(dt.current=Date.now()),V.current||(V.current=setTimeout(()=>{ht(!0),w("unlock")},3e3))),()=>{}),[S,g,K]),i.useEffect(()=>{ht(!1),dt.current=null,V.current&&(clearTimeout(V.current),V.current=null)},[g,e]);const At=()=>{let t,n,o="set",a=0,c=Math.random()>.5;if(e===1)t=Math.floor(Math.random()*12)+1,n=0;else if(e===2){t=12;const d=[0,15,30,45],m=r==null?void 0:r.minutes,f=m!==void 0?d.filter(x=>x!==m):d;n=f[Math.floor(Math.random()*f.length)]}else if(e===3){const d=r==null?void 0:r.hours,m=r==null?void 0:r.minutes;do t=Math.floor(Math.random()*12)+1,n=[0,15,30,45][Math.floor(Math.random()*4)];while(t===d&&n===m)}else if(e===4)t=Math.floor(Math.random()*12)+1,n=[0,15,30,45][Math.floor(Math.random()*4)],F(c);else if(e===5){const d=Math.floor(Math.random()*24);t=d===0?12:d>12?d-12:d,n=[0,15,30,45][Math.floor(Math.random()*4)],c=d<12,F(c),Y(!0)}else if(e===6)t=Math.floor(Math.random()*12)+1,n=[15,30,45][Math.floor(Math.random()*3)];else if(e===7){t=Math.floor(Math.random()*10)+1,n=[0,15,30][Math.floor(Math.random()*3)],o="add",a=[5,10,15,20,30][Math.floor(Math.random()*5)];const d=t*30+n*.5-90,m=n*6-90;j(d),T(m),Tt("start"),$t(!0)}else if(e===8){t=Math.floor(Math.random()*10)+2,n=[15,30,45][Math.floor(Math.random()*3)],o="subtract",a=[5,10,15,20,30][Math.floor(Math.random()*5)];const d=t*30+n*.5-90,m=n*6-90;j(d),T(m),Tt("start"),$t(!0)}else t=Math.floor(Math.random()*12)+1,n=0;let h=n,l=t;e===7?(h=n+a,h>=60&&(h-=60,l=t%12+1)):e===8&&(h=n-a,h<0&&(h+=60,l=t-1,l<=0&&(l=12))),Zt({hours:e===7||e===8?l:t,minutes:e===7||e===8?h:n,isAM:c,is24Hour:e===5,questionType:o,addMinutes:a,startTime:e===7||e===8?{hours:t,minutes:n}:void 0}),e!==7&&e!==8&&(j(-90),T(-90)),setTimeout(()=>{ee(t,n,c,o,a)},300)},ee=(t,n,o,a,c,h)=>{let l="";const d=n===0?"o'clock":n.toString().padStart(2,"0"),m=n===0?`${t} o'clock`:`${t}:${d}`;if(e===1)l=`Set the hour hand to ${t} o'clock`;else if(e===2)l=`Set the minute hand to ${n} minutes`;else if(e===3)l=`Set the clock to ${m}`;else if(e===4)l=`Set the clock to ${m} ${o?"AM, morning time":"PM, afternoon or evening"}`;else if(e===5){const f=o?t:t===12?12:t+12;l=`Set the clock to ${f===0?0:f}:${n.toString().padStart(2,"0")} in 24-hour time`}else if(e===6){let f="";n===15?f="quarter past":n===30?f="half past":n===45&&(f="quarter to the next hour"),l=`Set the clock to ${f} ${t}`}else e===7?l=`Start at ${m} and add ${c} minutes. Move the clock forward!`:e===8?l=`Start at ${m} and subtract ${c} minutes. Move the clock backward!`:l=`Set the clock to ${m}`;pt(),setTimeout(()=>{ye(async()=>{const{TextToSpeech:f}=await import("./index-DBm50toB.js").then(x=>x.Y);return{TextToSpeech:f}},__vite__mapDeps([0,1])).then(({TextToSpeech:f})=>{f.speak({text:l,lang:"en-US",rate:.9,pitch:1.1,volume:1,category:"ambient"}).catch(()=>{Ht(l)})}).catch(()=>{Ht(l)})},100)},Ht=t=>{if(typeof window<"u"&&"speechSynthesis"in window){window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t);n.rate=.9,n.pitch=1.1,n.lang="en-US",window.speechSynthesis.speak(n)}},Pt=()=>{tt(!0),W(0),B(0),At(),w("click")},se=()=>{if(!r)return;const t=Ct(),n=r.hours,o=r.minutes;let a=t.hours===n&&t.minutes===o;e===4&&r.isAM!==void 0&&(a=a&&P===r.isAM),L(a?"correct":"incorrect"),B(c=>c+1),a?(W(c=>c+1),gt("correct","medium"),z("correct"),Bt("questions",1),lt+1>=3?setTimeout(()=>{var h;const c=(h=G.lessonsCompleted[e-1])==null?void 0:h.completed;ut(!c),st(!0),Wt(e,lt+1),w("levelUp")},1500):setTimeout(()=>{L(null),At()},1500)):(gt("incorrect","light"),z("incorrect"),setTimeout(()=>{L(null)},1500))},ne=()=>{e<mt?(nt(t=>t+1),tt(!1),st(!1),ut(!1),W(0),B(0),L(null),j(-90),T(-90),w("click")):bt("home")},oe=()=>{e>1&&(nt(t=>t-1),tt(!1),st(!1),ut(!1),W(0),B(0),L(null),j(-90),T(-90),w("click"))},ae=async()=>{ot>=3&&vt.canShow?await vt.showAd()&&St(0):(jt(!0),St(t=>t+1),z(y[e-1].hintKey),w("click"))},Ct=()=>{const t=(N%360+360)%360,n=(I%360+360)%360;let o=Math.floor((t+90)%360/30)%12,a=Math.floor((n+90)%360/6)%60;return o===0&&(o=12),{hours:o,minutes:a}},_t=Ct(),p=e===1?{hours:_t.hours,minutes:0}:_t,It=()=>{let t=p.hours;return P?t=p.hours===12?0:p.hours:t=p.hours===12?12:p.hours+12,t%24},Dt=(t,n)=>t===0?`${n} o'clock`:t===15?`Quarter past ${n}`:t===30?`Half past ${n}`:t===45?`Quarter to ${n===12?1:n+1}`:`${n}:${String(t).padStart(2,"0")}`;(()=>{if(e===5||X){const t=It();return`${String(t).padStart(2,"0")}:${String(p.minutes).padStart(2,"0")}`}return`${String(p.hours).padStart(2,"0")}:${String(p.minutes).padStart(2,"0")}`})();const A=(()=>{let t=p.hours;!P&&p.hours!==12&&(t=p.hours+12),P&&p.hours===12&&(t=0);const n=p.minutes/60,o=t+n,a=o>=6&&o<18,c=!a;let h=0;a?h=(o-6)/12:o>=18?h=(o-18)/12:h=(o+6)/12;const l=Math.PI*h,d=50-Math.cos(l)*45,m=90-Math.sin(l)*70;return{isSunVisible:a,isMoonVisible:c,x:d,y:m,hour24:t}})(),ie=()=>!A.isSunVisible,zt=(t,n)=>{const o=n?30:6,a=n?10:4,c=(t%360+360)%360,h=Math.round(c/o)*o,l=Math.abs(c-h);return l<=a||l>=360-a?h:t},ft=i.useRef(-90);i.useEffect(()=>{ft.current=N},[e,g]),i.useEffect(()=>{e===5?Y(!0):e!==5&&Y(!1)},[e]);const Rt=(t,n,o)=>{if(!S)return;const c=(o.querySelector(".clock-container")||o).getBoundingClientRect(),h=c.left+c.width/2,l=c.top+c.height/2,d=Math.atan2(n-l,t-h)*(180/Math.PI);if(S==="hour"){const m=zt(d,!0),f=ft.current;if(j(m),e>=4){const x=(f%360+360)%360,M=(m%360+360)%360,H=x<270&&M>=270&&M<300,k=x>=270&&x<300&&M<270,U=x>240&&x<270&&(M>=270||M<30),C=M>240&&M<270&&(x>=270||x<30);(H||k||U||C)&&(F(_=>!_),rt(_=>_+1),w("tick"))}ft.current=m}else if(S==="minute"&&e!==1){const m=zt(d,!1),f=I;if(T(m),e>=3){let x=m-f;for(;x>180;)x-=360;for(;x<-180;)x+=360;const M=N+x/12;if(j(M),e>=4){const H=(N%360+360)%360,k=(M%360+360)%360,U=H<270&&H>240&&k>=270&&k<300,C=k<270&&k>240&&H>=270&&H<300;(U||C)&&(F(_=>!_),rt(_=>_+1),w("tick"))}}}},D=t=>{const n=y[e-1].focus;return n==="hour"?t==="hour":n==="minute"?t==="minute":e===4&&b&&!v?t==="hour":e===7||e===8?t==="minute":!0},re=t=>{Rt(t.clientX,t.clientY,t.currentTarget)},le=t=>{if(!S)return;t.preventDefault();const n=t.touches[0];Rt(n.clientX,n.clientY,t.currentTarget)},xt=()=>{O(null)},ce=()=>{if(!r)return"";const t=`${r.hours}:${String(r.minutes).padStart(2,"0")}`;switch(e){case 4:return`Set the clock to ${t} ${r.isAM?"AM â˜€ï¸":"PM ðŸŒ™"}`;case 5:const n=r.isAM?r.hours===12?0:r.hours:r.hours===12?12:r.hours+12;return`Set the clock to ${String(n).padStart(2,"0")}:${String(r.minutes).padStart(2,"0")} (24h format)`;case 6:return`Set the clock to "${Dt(r.minutes,r.hours)}"`;case 7:return r.startTime?`âž• ${`${r.startTime.hours}:${String(r.startTime.minutes).padStart(2,"0")}`} + ${r.addMinutes} min = ?`:"Add time: Move the clock forward!";case 8:return r.startTime?`âž– ${`${r.startTime.hours}:${String(r.startTime.minutes).padStart(2,"0")}`} - ${r.addMinutes} min = ?`:"Subtract time: Move the clock backward!";default:return`Set the clock to ${t}`}};return s.jsxs("div",{className:`flex flex-col transition-all duration-500 overflow-hidden relative ${e===4||e===5?ie()?"bg-gradient-to-b from-slate-900 via-indigo-900 to-slate-800":"bg-gradient-to-b from-sky-400 via-blue-300 to-cyan-200":"bg-gradient-to-br from-blue-400 via-cyan-300 to-green-300"}`,style:{minHeight:"100dvh",maxHeight:"100dvh",paddingTop:"max(env(safe-area-inset-top, 0px), 16px)",paddingBottom:"max(env(safe-area-inset-bottom, 0px), 16px)",paddingLeft:"max(env(safe-area-inset-left, 0px), 16px)",paddingRight:"max(env(safe-area-inset-right, 0px), 16px)"},onMouseMove:re,onMouseUp:xt,onMouseLeave:xt,onTouchMove:le,onTouchEnd:xt,children:[(e===4||e===5)&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[A.isSunVisible&&s.jsxs(u.div,{animate:{left:`${A.x}%`,top:`${A.y}%`},transition:{type:"spring",stiffness:100,damping:30},className:"absolute",style:{transform:"translate(-50%, -50%)"},children:[s.jsxs(u.div,{animate:{scale:[1,1.1,1]},transition:{duration:3,repeat:1/0},className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-yellow-300 rounded-full blur-xl opacity-50 scale-150"}),s.jsx(He,{className:"w-16 h-16 text-yellow-400 fill-yellow-300 relative z-10"})]}),s.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-white/80 rounded-full px-2 py-0.5 text-xs font-bold text-orange-600",children:A.hour24>=12?"PM":"AM"})]}),A.isMoonVisible&&s.jsxs(u.div,{animate:{left:`${A.x}%`,top:`${A.y}%`},transition:{type:"spring",stiffness:100,damping:30},className:"absolute",style:{transform:"translate(-50%, -50%)"},children:[s.jsx(u.div,{animate:{filter:["drop-shadow(0 0 15px rgba(200,200,255,0.4))","drop-shadow(0 0 25px rgba(200,200,255,0.7))","drop-shadow(0 0 15px rgba(200,200,255,0.4))"]},transition:{duration:4,repeat:1/0},className:"relative",children:s.jsx($e,{className:"w-14 h-14 text-yellow-100 fill-yellow-50"})}),s.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-slate-700/80 rounded-full px-2 py-0.5 text-xs font-bold text-blue-200",children:A.hour24>=12?"PM":"AM"})]}),A.isMoonVisible&&s.jsx(s.Fragment,{children:[...Array(8)].map((t,n)=>s.jsx(u.div,{className:"absolute text-white",style:{left:`${10+n*12}%`,top:`${15+n%3*15}%`,fontSize:`${8+n%3*4}px`},animate:{opacity:[.2,.8,.2],scale:[.8,1.2,.8]},transition:{duration:1.5+n*.3,repeat:1/0,delay:n*.2},children:"âœ¦"},n))}),s.jsx("div",{className:"absolute bottom-[20%] left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-white/30 to-transparent"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2 flex-shrink-0 relative z-20",children:[s.jsx(u.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{w("click"),bt("home")},className:"w-12 h-12 bg-white/30 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(we,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"flex items-center gap-1 overflow-x-auto flex-1 mx-2 scrollbar-hide",children:Array.from({length:mt},(t,n)=>n+1).map(t=>{var n,o;return s.jsx(u.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{t!==e&&(w("click"),nt(t),tt(!1),st(!1),W(0),B(0),L(null),j(-90),T(-90),Y(t===5))},className:`w-7 h-7 flex-shrink-0 rounded-full flex items-center justify-center font-bold text-xs cursor-pointer transition-all ${t===e?"bg-white text-blue-500":(n=G.lessonsCompleted[t-1])!=null&&n.completed?"bg-green-400 text-white hover:bg-green-300":"bg-white/30 text-white hover:bg-white/50"}`,children:(o=G.lessonsCompleted[t-1])!=null&&o.completed?"âœ“":t},t)})}),s.jsx("div",{className:"w-12"})]}),s.jsxs(u.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"bg-white/20 backdrop-blur-md rounded-2xl p-3 mb-2 shadow-xl flex-shrink-0",children:[s.jsx("h2",{className:"text-lg font-bold text-white text-center",children:g?`Practice: ${y[e-1].title}`:y[e-1].title}),s.jsx("p",{className:"text-white text-center text-sm",children:g&&r?ce():b&&!v?(Et=Ot[e])==null?void 0:Et.instruction.replace("ðŸ‘† ",""):b&&v?"Great job! Tap Practice to test your skills! ðŸŽ¯":y[e-1].instruction}),g&&s.jsx("div",{className:"flex justify-center mt-2 gap-1",children:[1,2,3].map(t=>s.jsx(Kt,{className:`w-5 h-5 ${t<=lt?"text-yellow-300 fill-yellow-300":"text-white/30"}`},t))})]},`lesson-${e}-${b}`),s.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.8},className:"flex-1 flex items-center justify-center min-h-0",children:s.jsx("div",{className:"relative w-64 h-64 sm:w-72 sm:h-72 clock-container",children:s.jsx("div",{className:"absolute inset-0 bg-white/30 backdrop-blur-xl rounded-full shadow-2xl border-4 border-white/40 flex items-center justify-center",children:s.jsxs("div",{className:"relative w-full h-full",children:[[12,1,2,3,4,5,6,7,8,9,10,11].map((t,n)=>{const o=(n*30-90)*(Math.PI/180),a=110,c=Math.cos(o)*a,h=Math.sin(o)*a;return s.jsx("div",{className:"absolute text-2xl font-bold text-gray-700",style:{left:"50%",top:"50%",transform:`translate(-50%, -50%) translate(${c}px, ${h}px)`},children:t},t)}),(e===7||e===8)&&s.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:5},viewBox:"0 0 256 256",children:(()=>{const t=g&&(r!=null&&r.startTime)?r.startTime.minutes:e===7?0:30,n=g&&r?r.minutes:e===7?30:15,o=t*6-90,a=n*6-90,c=128,h=128,l=90,d=o*Math.PI/180,m=a*Math.PI/180,f=c+Math.cos(d)*l,x=h+Math.sin(d)*l,M=c+Math.cos(m)*l,H=h+Math.sin(m)*l,k=e===7,U=k?"#22c55e":"#ef4444";let C=a-o;k&&C<0&&(C+=360),!k&&C>0&&(C-=360);const _=Math.abs(C)>180?1:0,ue=k?1:0;return s.jsxs(s.Fragment,{children:[s.jsx("path",{d:`M ${c} ${h} L ${f} ${x} A ${l} ${l} 0 ${_} ${ue} ${M} ${H} Z`,fill:U,opacity:"0.25"}),s.jsx("circle",{cx:M,cy:H,r:"8",fill:U,opacity:"0.8"}),s.jsx("circle",{cx:M,cy:H,r:"5",fill:"white"})]})})()}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-5 h-5 bg-gray-700 rounded-full z-30 shadow-lg",style:{transform:"translate(-50%, -50%)"}}),s.jsx("div",{className:`absolute ${y[e-1].focus==="hour"||y[e-1].focus==="both"?"cursor-grab active:cursor-grabbing":"cursor-not-allowed"}`,style:{width:"80px",height:"36px",top:"50%",left:"50%",transformOrigin:"left center",transform:`translate(0, -50%) rotate(${N}deg) ${S==="hour"?"scale(1.05)":""}`,transition:S==="hour"?"none":"transform 0.1s ease-out",zIndex:e===1||e===4&&b&&!v?25:20},onMouseDown:t=>{t.preventDefault(),D("hour")&&O("hour")},onTouchStart:t=>{t.preventDefault(),D("hour")&&O("hour")},children:s.jsx("div",{className:`absolute top-1/2 left-0 -translate-y-1/2 rounded-full shadow-lg transition-colors ${D("hour")?"bg-gradient-to-r from-red-600 to-red-500":"bg-gray-400"}`,style:{width:"70px",height:"12px"}})}),s.jsx("div",{className:`absolute z-20 ${D("minute")?"cursor-grab active:cursor-grabbing":"cursor-not-allowed"}`,style:{width:"110px",height:"32px",top:"50%",left:"50%",transformOrigin:"left center",transform:`translate(0, -50%) rotate(${e===1?-90:I}deg) ${S==="minute"?"scale(1.05)":""}`,transition:S==="minute"?"none":"transform 0.1s ease-out"},onMouseDown:t=>{t.preventDefault(),D("minute")&&O("minute")},onTouchStart:t=>{t.preventDefault(),D("minute")&&O("minute")},children:s.jsx("div",{className:`absolute top-1/2 left-0 -translate-y-1/2 rounded-full shadow-lg transition-colors ${D("minute")?"bg-gradient-to-r from-blue-600 to-blue-400":"bg-gray-500 border-2 border-gray-400"}`,style:{width:"100px",height:"8px"}})}),y[e-1].focus==="hour"&&s.jsx(u.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{repeat:1/0,duration:2},className:"absolute top-1/2 left-1/2 w-20 h-20 border-4 border-red-400 rounded-full -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),y[e-1].focus==="minute"&&s.jsx(u.div,{animate:{scale:[1,1.2,1],opacity:[.5,.8,.5]},transition:{repeat:1/0,duration:2},className:"absolute top-1/2 left-1/2 w-32 h-32 border-4 border-blue-400 rounded-full -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),b&&!v&&!S&&s.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute pointer-events-none z-40",style:{top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${y[e-1].focus==="hour"||e===4?N:I}deg) translateX(${y[e-1].focus==="hour"||e===4?55:85}px)`},children:s.jsxs(u.div,{animate:{scale:[1,.85,1]},transition:{duration:.7,repeat:1/0,ease:"easeInOut"},className:"text-3xl relative",style:{transform:`rotate(${-(y[e-1].focus==="hour"||e===4?N:I)}deg)`,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:[s.jsx(u.span,{animate:{opacity:[1,0,1]},transition:{duration:.7,repeat:1/0,times:[0,.5,1]},children:"ðŸ¤š"}),s.jsx(u.span,{className:"absolute inset-0",animate:{opacity:[0,1,0]},transition:{duration:.7,repeat:1/0,times:[0,.5,1]},children:"âœŠ"})]})},`grab-${N}-${I}`)]})})})}),s.jsxs(u.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"bg-white/20 backdrop-blur-md rounded-2xl p-3 mb-2 shadow-xl flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("p",{className:"text-white text-sm font-medium",children:e===5?"24-Hour Time:":e===6?"Time:":"Digital Time:"}),e===5&&!g&&s.jsx(u.button,{whileTap:{scale:.95},onClick:()=>{Y(!X),w("click")},className:"text-xs bg-white/30 px-2 py-1 rounded-full text-white",children:X?"24h":"12h"})]}),s.jsxs("div",{className:"text-4xl font-bold text-center font-mono tracking-wider flex justify-center items-center gap-1",children:[s.jsx("span",{className:e!==2?"text-red-400":"text-gray-300",children:e===5||X?String(It()).padStart(2,"0"):String(p.hours).padStart(2,"0")}),s.jsx("span",{className:"text-white",children:":"}),s.jsx("span",{className:e>=2?"text-blue-400":"text-gray-300",children:String(p.minutes).padStart(2,"0")}),e>=4&&e!==5&&!X&&s.jsx(u.button,{whileTap:{scale:.9},onClick:()=>{F(!P),w("click")},className:`ml-2 px-2 py-1 rounded-lg text-lg font-bold transition-all ${P?"bg-yellow-400 text-yellow-900":"bg-indigo-600 text-white"}`,children:P?"â˜€ï¸ AM":"ðŸŒ™ PM"})]}),e===6&&s.jsxs(u.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"text-center text-white font-medium mt-1",children:['"',Dt(p.minutes,p.hours),'"']},p.minutes)]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e>1&&!g&&s.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:oe,className:"h-11 px-4 bg-white/30 backdrop-blur-md rounded-2xl shadow-lg flex items-center justify-center gap-2",children:s.jsx(Me,{className:"w-5 h-5 text-white"})}),s.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ae,className:"h-11 flex-1 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl shadow-lg flex items-center justify-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-bold text-sm",children:ot>=3?"ðŸ“º Ad for Hints":`Hint (${3-ot} left)`})]}),!g&&!b&&!$?s.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Pt,animate:K?{scale:[1,1.08,1],boxShadow:["0 0 0 0 rgba(34, 197, 94, 0)","0 0 20px 8px rgba(34, 197, 94, 0.6)","0 0 0 0 rgba(34, 197, 94, 0)"]}:{},transition:K?{duration:1.2,repeat:1/0,ease:"easeInOut"}:{},className:`h-12 flex-1 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl shadow-lg flex items-center justify-center gap-2 ${K?"ring-4 ring-green-300 ring-opacity-75":""}`,children:[s.jsx("span",{className:"text-white font-bold",children:"Practice"}),s.jsx(Ft,{className:"w-5 h-5 text-white"}),K&&s.jsx(u.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},className:"text-yellow-200 text-lg",children:"ðŸ‘†"})]}):(b||$)&&!g?(Lt=G.lessonsCompleted[e-1])!=null&&Lt.completed?s.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{pt(),at(!1),Q(!1),it(!0),Pt()},className:"h-12 flex-1 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-2xl shadow-lg flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-white font-bold",children:"Skip"}),s.jsx(Ft,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-bold",children:"Practice"})]}):s.jsx("div",{className:"h-12 flex-1 bg-white/10 rounded-2xl flex items-center justify-center",children:s.jsx("span",{className:"text-white/50 text-sm",children:$?"Listen to intro":"Complete task"})}):s.jsxs(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:se,disabled:et!==null,className:"h-12 flex-1 bg-gradient-to-r from-blue-400 to-blue-500 rounded-2xl shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:[s.jsx(Se,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-bold",children:"Check"})]})]}),s.jsx(yt,{children:Vt&&s.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-24 left-6 right-6 bg-yellow-400 rounded-3xl p-6 shadow-2xl z-50",children:[s.jsx("button",{onClick:()=>jt(!1),className:"absolute top-3 right-3 w-8 h-8 bg-yellow-500 hover:bg-yellow-600 rounded-full flex items-center justify-center transition-colors",children:s.jsx(xe,{className:"w-5 h-5 text-yellow-900"})}),s.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[s.jsx(Ut,{className:"w-8 h-8 text-yellow-800 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-bold mb-2",children:"Helpful Tip:"}),s.jsxs("p",{className:"text-yellow-800",children:[e===1&&"The hour hand is shorter and moves slowly. It points to the hour number.",e===2&&"The minute hand is longer and moves faster. Each number is 5 minutes!",e===3&&"Read the hour first (short hand), then the minutes (long hand)!",e===4&&"AM is from midnight (12:00) to noon. PM is from noon to midnight. Watch the sky change!",e===5&&"In 24-hour time: 1 PM = 13:00, 2 PM = 14:00. Just add 12 to PM hours!",e===6&&"Quarter = 15 min, Half = 30 min. 'Quarter to' means 15 min before the next hour!",e===7&&"When adding minutes, if you go past 60, add 1 hour! When subtracting, if you go below 0, subtract 1 hour!"]})]})]})]})}),s.jsx(yt,{children:et&&s.jsx(u.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed inset-0 flex items-center justify-center pointer-events-none z-50",children:s.jsx("div",{className:`
              text-8xl font-bold drop-shadow-2xl
              ${et==="correct"?"text-green-400":"text-red-400"}
            `,children:et==="correct"?"âœ“":"âœ—"})})}),s.jsx(yt,{children:Jt&&s.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:s.jsx(u.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"bg-gradient-to-br from-green-400 to-emerald-500 rounded-3xl p-8 max-w-sm w-full shadow-2xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx(u.div,{animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"text-8xl mb-4",children:"ðŸŽ‰"}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Lesson Complete!"}),s.jsxs("p",{className:"text-white/90 mb-4",children:["You've mastered ",y[e-1].title,"!"]}),s.jsx("div",{className:"flex justify-center gap-1 mb-4",children:[1,2,3].map(t=>s.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:t*.2},children:s.jsx(Kt,{className:"w-10 h-10 text-yellow-300 fill-yellow-300"})},t))}),ct&&s.jsxs("div",{className:"bg-white/30 rounded-2xl p-4 mb-6 flex items-center justify-center gap-3",children:[s.jsx(qt,{className:"w-6 h-6 text-white"}),s.jsx("span",{className:"text-white font-bold text-xl",children:"+10 Coins Earned!"})]}),!ct&&s.jsxs("div",{className:"bg-white/30 rounded-2xl p-4 mb-6 flex items-center justify-center gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-bold text-xl",children:"+1 Coin for Practice! ðŸŽ¯"})]}),s.jsx(u.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Mt(ct?10:1),ne()},className:"w-full h-14 bg-white rounded-2xl font-bold text-green-600 text-lg shadow-lg",children:e<mt?"Next Lesson â†’":"Finish! ðŸ "})]})})})})]})}export{qe as ClockLessonScreen};
