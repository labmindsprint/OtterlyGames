import{u as xe,r as l,p as pe,K as J,b as V,L as v,j as e,m as s,X as D,s as N,R as W,C as ge,A as j,V as fe,P as Y,M as K,N as be,O as we,Q as ye,g as je}from"./index-DBm50toB.js";import{b as ve,c as Ne}from"./index-BabaJRIL.js";import{C as X}from"./coins-DRANhyEF.js";import{L as ke}from"./lock-C52JFBfn.js";import{R as Ce}from"./rotate-ccw-DA5pA0vm.js";const Fe=30;function Ie({onNavigate:F}){const{coins:Z,addCoins:ee,customizations:S,checkAchievement:te}=xe();l.useEffect(()=>{pe("universe")},[]);const[T,ae]=l.useState(()=>J()),[m,se]=l.useState(T.currentLevel),[p,A]=l.useState(0),[r,d]=l.useState("idle"),[g,B]=l.useState(null),[$,_]=l.useState(null),[k,E]=l.useState(null),[O,P]=l.useState([]),[G,I]=l.useState(""),[b,L]=l.useState(null);l.useRef(null);const y=l.useRef(null),ie=l.useMemo(()=>[...Array(60)].map((t,a)=>({id:a,left:Math.random()*100,top:Math.random()*100,duration:2+Math.random()*3,delay:Math.random()*2})),[]),o=[{id:1,name:"Earth",type:"Planet",trivia:"Our home planet! Earth takes 24 hours to complete one rotation.",funFact:"ï¿½ Earth is the only planet with liquid water on its surface!",color:"#3B82F6",image:"01_earth.png"},{id:2,name:"The Moon",type:"Natural Satellite",trivia:"The Moon is Earth's only natural satellite and causes our ocean tides.",funFact:"ðŸŒ• The Moon is slowly moving away from Earth, about 4cm a year!",color:"#A0AEC0",image:"02_moon.png"},{id:3,name:"ISS",type:"Human Outpost",trivia:"The ISS is a giant science lab orbiting Earth, built by many countries.",funFact:"ðŸ›°ï¸ It travels so fast, it orbits Earth every 90 minutes!",color:"#FBBF24",image:"03_iss.png"},{id:4,name:"The Sun",type:"Star",trivia:"The Sun is a massive ball of hot gas that gives us light and heat.",funFact:"â˜€ï¸ The Sun is so big, a million Earths could fit inside it!",color:"#F59E0B",image:"04_sun.png"},{id:5,name:"Mercury",type:"Planet",trivia:"Mercury is the smallest planet and the closest one to the Sun.",funFact:"â˜„ï¸ A day on Mercury is longer than its whole year!",color:"#D97706",image:"05_mercury.png"},{id:6,name:"Venus",type:"Planet",trivia:"Venus is the hottest planet in our solar system, even hotter than Mercury.",funFact:"ðŸ’› Venus spins backward compared to all the other planets!",color:"#FCD34D",image:"06_venus.png"},{id:7,name:"Mars",type:"Planet",trivia:"Mars is called the Red Planet because of the iron oxide dust on its surface.",funFact:"ðŸ”´ Mars has the tallest mountain in the solar system, Olympus Mons!",color:"#DC2626",image:"07_mars.png"},{id:8,name:"Asteroid Belt",type:"Space Rocks",trivia:"This belt is full of space rocks and is between Mars and Jupiter.",funFact:"ðŸ¥” If you put all the asteroids together, they would be smaller than the Moon!",color:"#9CA3AF",image:"08_asteroid_belt.png"},{id:9,name:"Jupiter",type:"Gas Giant",trivia:"Jupiter is the largest planet, famous for its giant, swirling Great Red Spot storm.",funFact:"ðŸŒªï¸ Jupiter's Great Red Spot storm is bigger than Earth!",color:"#F59E0B",image:"09_jupiter.png"},{id:10,name:"Saturn",type:"Ringed Planet",trivia:"Saturn is known for its spectacular rings made of ice and rock chunks.",funFact:"ðŸ’ Saturn's rings are so wide, they could almost reach the Moon!",color:"#FCD34D",image:"10_saturn.png"},{id:11,name:"Enceladus",type:"Ice Moon",trivia:"This moon of Saturn shoots giant geysers of water ice into space.",funFact:"ðŸ§Š Enceladus might have a hidden ocean under its icy crust!",color:"#E5E7EB",image:"11_enceladus.png"},{id:12,name:"Uranus",type:"Ice Giant",trivia:"Uranus is a smooth, pale blue planet that spins on its side.",funFact:"ðŸŽ³ Uranus is tilted over, rolling around the Sun like a bowling ball!",color:"#67E8F9",image:"12_uranus.png"},{id:13,name:"Neptune",type:"Ice Giant",trivia:"Neptune is a deep blue planet with the fastest winds in the solar system.",funFact:"ðŸ’¨ It takes Neptune 165 Earth years to orbit the Sun once!",color:"#1D4ED8",image:"13_neptune.png"},{id:14,name:"Pluto",type:"Dwarf Planet",trivia:"Pluto is a tiny, icy world in the Kuiper Belt with a famous heart-shaped glacier.",funFact:"ðŸ’œ Pluto has a giant 'heart' on its surface named Tombaugh Regio!",color:"#9333EA",image:"14_pluto.png"},{id:15,name:"Oort Cloud",type:"Comet Home",trivia:"A giant shell of icy objects surrounding our entire solar system.",funFact:"â„ï¸ This is where most of the long-period comets come from!",color:"#F9FAFB",image:"15_oort_cloud.png"},{id:16,name:"Alpha Centauri",type:"Triple Star System",trivia:"This is the closest star system to our own Sun, containing three stars.",funFact:"âœ¨ It has three stars dancing together, two big and one small!",color:"#FCD34D",image:"16_alpha_centauri.png"},{id:17,name:"Betelgeuse",type:"Red Supergiant",trivia:"A massive red star that is so big, it would swallow Jupiter's orbit if placed in our system.",funFact:"ðŸ”´ This star is so old, it might explode into a supernova soon!",color:"#EF4444",image:"17_betelgeuse.png"},{id:18,name:"Sirius",type:"Star",trivia:"Also known as the Dog Star, it is the brightest star in our night sky.",funFact:"ðŸ’Ž Sirius is twice as massive as the Sun and shines 25 times brighter!",color:"#BFDBFE",image:"18_sirius.png"},{id:19,name:"Pillars of Creation",type:"Nebula",trivia:"Towering clouds of gas and dust where new stars are being born.",funFact:"ðŸ›ï¸ These pillars are actually being destroyed by the stars they create!",color:"#10B981",image:"19_pillars_of_creation.png"},{id:20,name:"Orion Nebula",type:"Nebula",trivia:"A giant cloud of gas and dust, it is the closest region of massive star formation to Earth.",funFact:"ðŸŒŸ You can see this star nursery with your own eyes on a clear night!",color:"#EC4899",image:"20_orion_nebula.png"},{id:21,name:"Butterfly Nebula",type:"Nebula",trivia:"A beautiful cloud of gas that looks like giant glowing purple wings.",funFact:"ðŸ¦‹ The 'wings' are gas heated to over 36,000 degrees Fahrenheit!",color:"#A855F7",image:"21_butterfly_nebula.png"},{id:22,name:"Ring Nebula",type:"Nebula",trivia:"A planetary nebula that looks like a colorful, glowing space donut.",funFact:"ðŸ© The ring is the outer layer of a dying star that puffed up!",color:"#F97316",image:"22_ring_nebula.png"},{id:23,name:"Crab Nebula",type:"Supernova Remnant",trivia:"The colorful, messy remains of a star that exploded long ago.",funFact:"ðŸ’¥ The explosion was so bright, people on Earth saw it in the year 1054!",color:"#EF4444",image:"23_crab_nebula.png"},{id:24,name:"Pulsar",type:"Neutron Star",trivia:"A tiny, super-dense star that spins very fast and shoots out beams of light.",funFact:"ðŸ’¡ It spins so fast, it's like a cosmic lighthouse flashing in space!",color:"#60A5FA",image:"24_pulsar.png"},{id:25,name:"Milky Way",type:"Galaxy",trivia:"Our home galaxy, a giant swirling spiral of billions of stars.",funFact:"ðŸ¥› The name comes from how it looks like a spilled stream of milk!",color:"#FCD34D",image:"25_milky_way.png"},{id:26,name:"Andromeda Galaxy",type:"Galaxy",trivia:"Our closest major galaxy neighbor, a beautiful, glowing whirlpool of stars.",funFact:"ðŸŒ€ Andromeda is rushing toward us and will crash into the Milky Way!",color:"#9CA3AF",image:"26_andromeda_galaxy.png"},{id:27,name:"Sombrero Galaxy",type:"Galaxy",trivia:"A flat galaxy with a prominent dust lane that makes it look like a giant hat.",funFact:"ðŸŽ© It's named the Sombrero Galaxy because it looks like a Mexican hat!",color:"#D1D5DB",image:"27_sombrero_galaxy.png"},{id:28,name:"Whirlpool Galaxy",type:"Interacting Galaxies",trivia:"Two galaxies that are currently colliding and pulling each other apart.",funFact:"ðŸŒŠ The smaller galaxy is pulling on the larger one, making it look swirly!",color:"#F87171",image:"28_whirlpool_galaxy.png"},{id:29,name:"Quasar",type:"Active Galactic Nucleus",trivia:"The super-bright core of a distant galaxy, powered by a massive black hole.",funFact:"ðŸ”¦ Quasars are the brightest objects in the entire universe!",color:"#FBBF24",image:"29_quasar.png"},{id:30,name:"Black Hole",type:"The Great Void",trivia:"A place where gravity is so strong that nothing, not even light, can escape.",funFact:"âš« If you fall in, you would be stretched like a noodle (spaghettification)!",color:"#000000",image:"30_black_hole.png"}],ne=()=>({robot:"ðŸ¤–",cat:"ðŸ±",astronaut:"ðŸ‘¨â€ðŸš€",wizard:"ðŸ§™"})[S==null?void 0:S.selectedAvatar]||"ðŸ‘¨â€ðŸš€";l.useEffect(()=>{if(y.current&&r==="idle"){const t=setTimeout(()=>{if(y.current){const c=o.length-1-m,n=y.current.querySelectorAll("[data-object-index]"),i=Array.from(n).find(x=>x.getAttribute("data-object-index")===String(m));if(i)i.scrollIntoView({behavior:"smooth",block:"center"});else{const f=y.current.clientHeight,M=Math.max(0,c*100-f*.5);y.current.scrollTo({top:M,behavior:"smooth"})}}},300);return()=>clearTimeout(t)}},[r,m]),l.useEffect(()=>{const t=()=>{const c=v();if(!c.canUnlock&&c.reason==="daily_limit")if(c.secondsRemaining!==void 0){const n=Math.max(0,c.secondsRemaining),i=Math.floor(n/3600),x=Math.floor(n%3600/60),f=Math.floor(n%60);I(`${i.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`)}else I("24:00:00");else I("")};t();const a=setInterval(t,1e3);return()=>clearInterval(a)},[T]);const U=t=>t<=m,le=t=>{if(U(t)){L(t),d("trivia");const a=o[t];K(a.name,a.type,a.trivia,a.funFact,!1)}},re=()=>{N(),L(null),d("idle")},q=l.useCallback(()=>{const t=m+1,{question:a,index:c}=ve(t,O),n=[...a.options],i=n[a.correctAnswer],f=n.map((C,ue)=>ue).sort(()=>Math.random()-.5).map(C=>n[C]),M=f.indexOf(i),he={...a,options:f,correctAnswer:M};B(he),P(C=>[...C,c]),_(null),E(null),d("question"),a&&V(a.question)},[m,O]),H=()=>{r!=="cooldown"&&q()},oe=t=>{if($!==null||!g)return;_(t);const a=t===g.correctAnswer;E(a),d("answered")},R=()=>{d("flying"),setTimeout(()=>{const t=p+1;if(t>=5){A(0);const a=m+1;if(a<o.length)if(v().canUnlock){be(),ae(J()),se(a),ee(10),d("landed");const n=o[a];K(n.name,n.type,n.trivia,n.funFact,!0),a===Fe-1&&te("clock_master")}else d("cooldown");else d("landed")}else A(t),q()},800)},z=()=>{d("falling"),setTimeout(()=>{A(0),P([]),d("idle")},1e3)},ce=async()=>{if(!we()){R();return}await ye(je.CONTINUE_RACE)?R():z()},de=()=>{if(N(),!v().canUnlock){d("cooldown");return}d("idle")},w=o[m],h=o[m+1],me=Ne(m+1),Q=v(),u=!Q.canUnlock&&Q.reason==="daily_limit";return e.jsxs("div",{className:"bg-gradient-to-b from-gray-900 via-purple-950 to-black relative overflow-hidden flex flex-col",style:{minHeight:"100dvh",maxHeight:"100dvh"},children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:ie.map(t=>e.jsx(s.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${t.left}%`,top:`${t.top}%`},animate:{opacity:[.2,1,.2],scale:[1,1.5,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay}},t.id))}),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-black/70 backdrop-blur-lg border-b border-white/10",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:e.jsxs("div",{className:"max-w-md mx-auto p-4 flex items-center justify-between",children:[e.jsx(s.button,{whileTap:{scale:.9},onClick:()=>{N(),F("home")},className:"w-12 h-12 rounded-xl bg-white/10 backdrop-blur flex items-center justify-center border border-white/20",children:e.jsx(D,{className:"w-6 h-6 text-white"})}),e.jsx("h1",{className:"text-white font-bold text-lg",children:"ðŸš€ Space Journey"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"bg-yellow-400 px-3 py-1.5 rounded-full flex items-center gap-1.5",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-900"}),e.jsx("span",{className:"font-bold text-yellow-900 text-sm",children:Z})]})})]})}),e.jsx("div",{className:"fixed left-0 right-0 z-40 px-4",style:{top:"calc(80px + env(safe-area-inset-top, 0px))"},children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:`rounded-xl p-3 border ${u?"bg-orange-500/20 border-orange-500":"bg-white/5 border-white/10"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[u?e.jsx("span",{className:"text-lg",children:"â›½"}):e.jsx("span",{className:"text-lg",children:"ðŸš€"}),e.jsx("span",{className:"text-white/80 text-sm",children:u?"Rocket Refueling":"Today's Discoveries"})]}),e.jsxs("span",{className:"text-white font-bold",children:[T.objectsUnlockedToday,"/2"]})]}),u&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 bg-orange-500/30 rounded-lg py-2",children:[e.jsx("span",{className:"text-orange-300 text-sm",children:"Ready in"}),e.jsx("span",{className:"text-orange-100 font-mono font-bold text-lg tracking-wider",children:G})]})]})})}),e.jsx("div",{ref:y,className:"flex-1 overflow-y-auto max-w-md mx-auto w-full relative z-10",style:{scrollBehavior:"smooth",paddingTop:"calc(140px + env(safe-area-inset-top, 0px))",paddingBottom:"120px",paddingLeft:"16px",paddingRight:"16px"},children:e.jsx("div",{className:"relative py-4",children:[...o].reverse().map((t,a)=>{const c=o.length-1-a,n=U(c),i=c===m+1,x=c===m;return e.jsxs("div",{className:"relative","data-object-index":c,children:[a<o.length-1&&e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 top-full w-0.5 h-12 z-0",children:e.jsx("svg",{width:"4",height:"48",className:"mx-auto",children:e.jsx("line",{x1:"2",y1:"0",x2:"2",y2:"48",stroke:n?"#22c55e":"#ffffff30",strokeWidth:"2",strokeDasharray:"6 4",strokeLinecap:"round"})})}),e.jsx(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a*.02},className:"relative z-10 mb-12",children:n?e.jsxs(s.button,{whileTap:{scale:.95},onClick:()=>le(c),className:`w-full flex items-center gap-3 p-3 rounded-2xl transition-all ${x?"bg-gradient-to-r from-yellow-500/30 to-orange-500/30 border-2 border-yellow-400 shadow-lg shadow-yellow-400/20":"bg-white/10 border border-white/20 hover:bg-white/15"}`,children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center overflow-hidden ${x?"bg-yellow-400/30":"bg-white/10"}`,children:e.jsx("img",{src:`/images/${t.image}`,alt:t.name,className:"w-12 h-12 object-contain"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-white font-bold",children:t.name}),x&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full",children:"YOU ARE HERE"})]}),e.jsx("p",{className:"text-white/60 text-sm",children:t.type}),e.jsx("p",{className:"text-green-400 text-xs mt-1",children:"âœ“ Discovered â€¢ Tap to view trivia"})]}),x&&e.jsx(s.div,{animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0},className:"text-2xl",children:"ðŸš€"})]}):e.jsxs("div",{className:`w-full flex items-center gap-3 p-3 rounded-2xl ${i?"bg-purple-500/20 border-2 border-purple-400 border-dashed":"bg-white/5 border border-white/10"}`,children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center relative overflow-hidden ${i?"bg-purple-500/20":"bg-white/5"}`,children:e.jsx("img",{src:`/images/${t.image}`,alt:t.name,className:`w-12 h-12 object-contain ${i?"opacity-40 grayscale":"opacity-15 grayscale blur-[2px]"}`})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:`font-bold ${i?"text-white/70":"text-white/30"}`,children:i?t.name:"Unknown"}),i&&!u&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-500/50 text-purple-200 text-xs font-bold rounded-full animate-pulse",children:"NEXT"}),i&&u&&e.jsx("span",{className:"px-2 py-0.5 bg-orange-500/50 text-orange-200 text-xs font-bold rounded-full",children:"REFUELING"})]}),e.jsx("p",{className:"text-white/30 text-sm",children:i?t.type:"Undiscovered"}),e.jsx("p",{className:`text-xs mt-1 ${i?"text-purple-400":"text-white/20"}`,children:i?u?`â›½ Refueling: ${G}`:"ðŸš€ Ready for launch!":"ðŸ”’ Explore previous destinations first"})]}),i&&!u?e.jsxs(s.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:f=>{f.stopPropagation(),H()},className:"px-4 py-2 bg-purple-500 rounded-xl text-white font-bold text-sm flex items-center gap-1",children:[e.jsx(W,{className:"w-4 h-4"}),"Explore"]}):i&&u?e.jsx("div",{className:"text-orange-400 text-xl",children:"â›½"}):e.jsx(ke,{className:"w-5 h-5 text-white/20"})]})})]},t.id)})})}),r==="idle"&&!u&&h&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 bg-gradient-to-t from-black/90 to-transparent",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[p>0&&e.jsxs("div",{className:"bg-white/10 rounded-xl p-3 mb-3 border border-white/10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-white/70 text-sm",children:["Journey to ",h.name]}),e.jsxs("span",{className:"text-yellow-400 font-bold",children:[p,"/5"]})]}),e.jsx("div",{className:"flex gap-1.5",children:[...Array(5)].map((t,a)=>e.jsx("div",{className:`flex-1 h-2 rounded-full transition-all ${a<p?"bg-green-500":"bg-white/20"}`},a))})]}),e.jsxs(s.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:H,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-2xl font-bold text-white text-lg flex items-center justify-center gap-3 shadow-lg shadow-purple-500/30",children:[e.jsx(W,{className:"w-6 h-6"}),p>0?"Continue Journey":`Explore ${h.name}`]})]})}),u&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 bg-gradient-to-t from-black/90 to-transparent",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(s.button,{whileTap:{scale:.98},onClick:()=>F("home"),className:"w-full py-4 bg-white/10 rounded-2xl font-bold text-white/70 text-lg flex items-center justify-center gap-3 border border-white/20",children:[e.jsx(ge,{className:"w-6 h-6"}),"Come Back Tomorrow"]})})}),e.jsx(j,{children:r==="flying"&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(s.div,{initial:{y:100},animate:{y:-100,opacity:[1,1,0]},transition:{duration:.8},className:"relative",children:[e.jsx(s.div,{animate:{rotate:[0,-5,5,0]},transition:{duration:.3,repeat:1/0},className:"text-7xl",children:"ðŸš€"}),e.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 text-2xl",children:ne()})]}),e.jsx(s.div,{animate:{opacity:[1,.5,1],scale:[1,1.3,1]},transition:{duration:.2,repeat:1/0},className:"text-4xl mt-4",children:"ðŸ”¥"}),e.jsx("p",{className:"text-white/70 mt-4 text-lg",children:"Flying to next checkpoint..."})]})})}),e.jsx(j,{children:r==="falling"&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(s.div,{initial:{y:-100},animate:{y:100,rotate:[0,20,-20,0]},transition:{duration:1,ease:"easeIn"},className:"text-7xl transform rotate-180",children:"ðŸš€"}),e.jsxs("p",{className:"text-red-400 font-bold mt-8 text-lg",children:["Falling back to ",w.name,"..."]})]})})}),e.jsx(j,{children:r==="trivia"&&b!==null&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:e.jsxs(s.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"w-full max-w-sm bg-gradient-to-br from-purple-900 to-blue-900 rounded-3xl p-6 border-2 border-purple-400 shadow-2xl",children:[e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx("button",{onClick:re,className:"p-2 rounded-full bg-white/10 hover:bg-white/20","aria-label":"Close trivia",children:e.jsx(D,{className:"w-5 h-5 text-white/70"})})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-3",children:e.jsx("img",{src:`/images/${o[b].image}`,alt:o[b].name,className:"w-full h-full object-contain"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:o[b].name}),e.jsx("p",{className:"text-purple-300 text-sm",children:o[b].type})]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 border border-white/20 mb-4",children:[e.jsx("p",{className:"text-white/90 text-sm mb-3",children:o[b].trivia}),e.jsx("p",{className:"text-yellow-400 font-bold text-sm",children:o[b].funFact})]}),e.jsx("div",{className:"flex items-center justify-center gap-2 bg-green-500/20 rounded-xl py-2 border border-green-500/30",children:e.jsx("span",{className:"text-green-400 text-sm",children:"âœ“ Discovered on your journey"})})]})})}),e.jsx(j,{children:(r==="question"||r==="answered")&&g&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:e.jsxs(s.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"w-full max-w-sm bg-gradient-to-br from-purple-900 to-blue-900 rounded-3xl p-6 border-2 border-yellow-400 shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-purple-300 text-sm font-medium",children:me}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>{N(),d("idle"),B(null),_(null),E(null)},className:"p-2 rounded-full bg-white/10 hover:bg-white/20","aria-label":"Back to Explore Universe",children:e.jsx(D,{className:"w-5 h-5 text-white/70"})})})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 bg-white/10 rounded-xl py-2 px-3",children:[e.jsx("span",{className:"text-white/70 text-sm",children:"Flying to"}),h&&e.jsx("img",{src:`/images/${h.image}`,alt:h.name,className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"text-white font-bold",children:(h==null?void 0:h.name)||"Stars"})]}),e.jsx("div",{className:"flex gap-2 mb-4 justify-center",children:[...Array(5)].map((t,a)=>e.jsx("div",{className:`h-2 w-8 rounded-full transition-colors ${a<p?"bg-green-500":a===p?"bg-yellow-400":"bg-white/20"}`},a))}),e.jsxs("p",{className:"text-white/60 text-xs text-center mb-3",children:["Question ",p+1," of 5"]}),e.jsx("div",{className:"bg-white/10 rounded-2xl p-4 mb-4 border border-white/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("p",{className:"text-white font-medium text-center flex-1",children:g.question}),e.jsx("button",{onClick:()=>V(g.question),className:"p-2 rounded-full bg-purple-500/30 hover:bg-purple-500/50 transition-colors flex-shrink-0","aria-label":"Read question aloud",children:e.jsx(fe,{className:"w-5 h-5 text-white"})})]})}),e.jsx("div",{className:"space-y-2",children:g.options.map((t,a)=>e.jsx(s.button,{whileHover:r==="question"?{scale:1.02}:{},whileTap:r==="question"?{scale:.98}:{},onClick:()=>oe(a),disabled:r!=="question",className:`
                      w-full p-4 rounded-xl font-bold text-white text-left transition-all
                      ${r==="question"?"bg-white/10 hover:bg-white/20 border border-white/20":$===a?k?"bg-green-500 border border-green-400":"bg-red-500 border border-red-400":a===g.correctAnswer?"bg-green-500/50 border border-green-400":"bg-white/5 border border-white/10"}
                    `,children:t},a))}),e.jsx(j,{children:r==="answered"&&e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:[e.jsxs("div",{className:`rounded-xl p-3 border text-center mb-4 ${k?"bg-green-500/20 border-green-400":"bg-red-500/20 border-red-400"}`,children:[e.jsx("p",{className:"text-white font-bold mb-1",children:k?"ðŸŽ‰ Correct!":"âŒ Wrong Answer!"}),e.jsx("p",{className:"text-white/90 text-sm",children:g.explanation})]}),k?e.jsxs(s.button,{whileTap:{scale:.95},onClick:R,className:"w-full py-3 bg-green-500 rounded-xl font-bold text-white flex items-center justify-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"Next"]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(s.button,{whileTap:{scale:.95},onClick:ce,className:"w-full py-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl font-bold text-white flex items-center justify-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5"}),"Watch Ad to Continue"]}),e.jsxs(s.button,{whileTap:{scale:.95},onClick:z,className:"w-full py-3 bg-white/10 rounded-xl font-bold text-white flex items-center justify-center gap-2 border border-white/20",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Retry from ",w.name]})]})]})})]})})}),e.jsx(j,{children:r==="landed"&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-6 bg-black/80 backdrop-blur-sm",children:e.jsxs(s.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"w-full max-w-sm bg-gradient-to-br from-green-900 to-blue-900 rounded-3xl p-6 border-2 border-green-400 shadow-2xl text-center",children:[e.jsx(s.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:1},className:"text-7xl mb-4",children:"ðŸŽ‰"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"New Discovery!"}),e.jsx("div",{className:"w-24 h-24 mx-auto mb-4",children:e.jsx("img",{src:`/images/${w.image}`,alt:w.name,className:"w-full h-full object-contain"})}),e.jsxs("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:[w.name," Reached!"]}),e.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 border border-white/20 mb-4 text-left",children:[e.jsx("p",{className:"text-white/80 text-sm mb-2",children:w.trivia}),e.jsx("p",{className:"text-yellow-400 font-bold text-sm",children:w.funFact})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 bg-yellow-400/20 rounded-lg py-2 mb-4",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400 font-bold",children:"+10 Coins Earned!"})]}),v().canUnlock&&h?e.jsxs(s.button,{whileTap:{scale:.95},onClick:de,className:"w-full py-3 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-xl font-bold text-white",children:["Continue to ",h.name]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-white/70 text-sm mb-3",children:h?"Come back tomorrow to continue!":"You've explored the entire universe!"}),e.jsx(s.button,{whileTap:{scale:.95},onClick:()=>{N(),F("home")},className:"w-full py-3 bg-white/10 rounded-xl font-bold text-white border border-white/20",children:"Return Home"})]})]})})})]})}export{Ie as AstronomyScreen};
