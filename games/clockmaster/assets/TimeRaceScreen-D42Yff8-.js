import{c as Re,u as at,a as Ne,r,p as nt,h as rt,k as ve,l as k,n as Se,q as it,d as y,b as J,t as ot,v as lt,w as ct,e as W,j as e,m as n,P as dt,I as Ae,x as ke,y as Te,C as ee,T as mt,A as te,z as ut,B as ht,D as xt,g as Me}from"./index-DBm50toB.js";import{C as pt}from"./CarDesign-sp5hOWUE.js";import{g as gt,a as ft}from"./index-BabaJRIL.js";import{H as $e}from"./house-BeGuLZfb.js";import{F as wt}from"./fuel-Dw0hZMmM.js";import{S as Ce}from"./star-Cm6Mt-SJ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],bt=Re("trending-up",yt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nt=Re("zap",jt);function Rt({onNavigate:_}){const{recordRaceResult:He,addCoins:z,customizations:se,updateDailyProgress:ae}=at(),ne=Ne(Me.AFTER_RACE),re=Ne(Me.EXTRA_FUEL),[p,H]=r.useState("ready"),[i,Ee]=r.useState("easy"),[C,ie]=r.useState(3),[oe,E]=r.useState(!1);r.useEffect(()=>{nt("race")},[]),r.useEffect(()=>(p==="ready"||p==="ended"?rt("bottom").then(t=>E(t)).catch(()=>{console.log("[Ad] Banner ad not available"),E(!1)}):(ve().catch(()=>{}),E(!1)),()=>{ve().catch(()=>{}),E(!1)}),[p]);const[Ie,le]=r.useState(0),[Pe,ce]=r.useState(1),[I,de]=r.useState(10),[We,B]=r.useState(10),[d,O]=r.useState(null),[_e,F]=r.useState(null),[j,D]=r.useState(null),[me,ue]=r.useState(!1),[T,L]=r.useState(15),[ze,G]=r.useState(!1),[g,M]=r.useState(()=>k()),[Be,Oe]=r.useState("");r.useEffect(()=>{const t=()=>{const l=new Date,s=new Date(l);s.setDate(s.getDate()+1),s.setHours(0,0,0,0);const c=s.getTime()-l.getTime(),v=Math.floor(c/(1e3*60*60)),V=Math.floor(c%(1e3*60*60)/(1e3*60));Oe(`${v}h ${V.toString().padStart(2,"0")}m`)};t();const a=setInterval(t,6e4);return()=>clearInterval(a)},[]);const[Q,Fe]=r.useState(Se());r.useEffect(()=>{const t=setInterval(()=>{Fe(Se()),M(k())},1e3);return()=>clearInterval(t)},[]);const[f,q]=r.useState("playing"),[N,P]=r.useState({correctAnswers:0,wrongAnswers:0,totalTime:0,mistakesByHour:{},averageSpeed:0}),[De,Le]=r.useState(Date.now()),[Ge,he]=r.useState(0),[Qe,U]=r.useState(0),[qe,xe]=r.useState(["3:00","3:15","3:30","3:45"]),[Ue,pe]=r.useState([]),[Ye,Y]=r.useState([]),w=it(),ge={easy:{timerSeconds:20,opponentSpeed:1.36,pointsMultiplier:1},medium:{timerSeconds:15,opponentSpeed:1.8,pointsMultiplier:1.5},hard:{timerSeconds:10,opponentSpeed:2.5,pointsMultiplier:2},master:{timerSeconds:40,opponentSpeed:.5,pointsMultiplier:3}},Ke=()=>{xt(),M(k()),pe([]),Y([]),H("countdown"),ie(3),y("click")};r.useEffect(()=>{if(p==="countdown")if(C>0){const t=setTimeout(()=>{y("countdown"),ie(a=>a-1)},1e3);return()=>clearTimeout(t)}else H("playing"),q("playing"),Le(Date.now()),J("race_start"),K()},[p,C]);const K=()=>{const t=ge[i];if(i==="master"){const u=[...gt,...ft],m=u.map((A,R)=>R).filter(A=>!Ye.includes(A)),h=m.length>0?m:u.map((A,R)=>R);m.length===0&&Y([]);const o=h[Math.floor(Math.random()*h.length)],b=u[o];Y(A=>[...A.slice(-20),o]);const $=[...b.options],tt=$[b.correctAnswer],Z=$.map((A,R)=>R).sort(()=>Math.random()-.5).map(A=>$[A]),st=Z.indexOf(tt);O({type:"master",targetTime:{hours:0,minutes:0},displayText:b.question,options:Z,correctAnswer:st,explanation:b.explanation}),xe(Z),F(null),D(null),L(t.timerSeconds);return}let a;if(i==="easy")a=[{hours:1,minutes:0},{hours:2,minutes:0},{hours:3,minutes:0},{hours:4,minutes:0},{hours:5,minutes:0},{hours:6,minutes:0},{hours:7,minutes:0},{hours:8,minutes:0},{hours:9,minutes:0},{hours:10,minutes:0},{hours:11,minutes:0},{hours:12,minutes:0}];else if(i==="medium")a=[{hours:1,minutes:0},{hours:1,minutes:15},{hours:1,minutes:30},{hours:1,minutes:45},{hours:2,minutes:0},{hours:2,minutes:15},{hours:2,minutes:30},{hours:2,minutes:45},{hours:3,minutes:0},{hours:3,minutes:15},{hours:3,minutes:30},{hours:3,minutes:45},{hours:4,minutes:0},{hours:4,minutes:30},{hours:5,minutes:15},{hours:5,minutes:45},{hours:6,minutes:0},{hours:6,minutes:30},{hours:7,minutes:15},{hours:7,minutes:45},{hours:8,minutes:0},{hours:8,minutes:30},{hours:9,minutes:0},{hours:9,minutes:15},{hours:9,minutes:30},{hours:10,minutes:0},{hours:10,minutes:30},{hours:11,minutes:15},{hours:11,minutes:45},{hours:12,minutes:0},{hours:12,minutes:15},{hours:12,minutes:30}];else{a=[];for(let u=1;u<=12;u++)for(let m=0;m<60;m+=5)a.push({hours:u,minutes:m})}const l=a.filter(u=>{const m=`${u.hours}:${u.minutes}`;return!Ue.includes(m)}),s=l.length>0?l:a,c=s[Math.floor(Math.random()*s.length)],v=`${c.hours}:${c.minutes}`,V=i==="easy"?10:i==="medium"?20:30;pe(u=>[...u,v].slice(-V));const be=["read"],je=be[Math.floor(Math.random()*be.length)];O({type:je,targetTime:c,displayText:je==="read"?"What time is shown on the clock?":`Set the clock to ${c.hours}:${String(c.minutes).padStart(2,"0")}`});const{hours:S,minutes:X}=c,x=[`${S}:${String(X).padStart(2,"0")}`];if(i==="easy"){const m=[S-2,S-1,S+1,S+2].map(h=>{let o=h;return o<=0&&(o+=12),o>12&&(o-=12),o}).sort(()=>Math.random()-.5);for(const h of m){const o=`${h}:00`;!x.includes(o)&&x.length<4&&x.push(o)}}else if(i==="medium"){const u=[0,15,30,45];for(const m of u){const h=`${S}:${String(m).padStart(2,"0")}`;!x.includes(h)&&x.length<4&&x.push(h)}if(x.length<4){const m=[S-1,S+1].map(h=>{let o=h;return o<=0&&(o+=12),o>12&&(o-=12),o});for(const h of m){const o=`${h}:${String(X).padStart(2,"0")}`;!x.includes(o)&&x.length<4&&x.push(o)}}}else{const m=[-15,-10,-5,5,10,15].sort(()=>Math.random()-.5);for(const h of m){let o=X+h,b=S;o<0?(o+=60,b-=1,b<=0&&(b+=12)):o>=60&&(o-=60,b+=1,b>12&&(b-=12));const $=`${b}:${String(o).padStart(2,"0")}`;!x.includes($)&&x.length<4&&x.push($)}}for(;x.length<4;){const u=Math.floor(Math.random()*12)+1,m=i==="easy"?0:i==="medium"?[0,15,30,45][Math.floor(Math.random()*4)]:Math.floor(Math.random()*12)*5,h=`${u}:${String(m).padStart(2,"0")}`;x.includes(h)||x.push(h)}xe(x.sort(()=>Math.random()-.5)),F(null),D(null),L(t.timerSeconds)};r.useEffect(()=>{p==="playing"&&!d&&K()},[p]),r.useEffect(()=>{if(p==="playing"&&f==="playing"&&T>0&&!j){const t=setInterval(()=>{L(a=>a-1),T<=3&&y("tick")},1e3);return()=>clearInterval(t)}else p==="playing"&&f==="playing"&&T===0&&!j&&we("",!0)},[T,j,f,p]),r.useEffect(()=>{if(p==="playing"&&f==="playing"){const t=ge[i],a=setInterval(()=>{B(l=>{const s=Math.min(100,l+Math.random()*t.opponentSpeed);return s>=100&&f==="playing"&&fe("lost"),s})},500);return()=>clearInterval(a)}},[f,p,i]),r.useEffect(()=>{I>=100&&f==="playing"&&fe("won")},[I,f]);const fe=t=>{q(t),H("ended");const a=Math.floor((Date.now()-De)/1e3),l=a>0?Math.floor(I/a*100):0;P(v=>({...v,totalTime:a,averageSpeed:l}));let s=0;t==="won"?(i==="easy"?s=w.raceWinEasy:i==="medium"?s=w.raceWinMedium:i==="hard"?s=w.raceWinHard:s=w.raceWinMaster,y("win"),J("race_win")):(i==="easy"?s=w.raceLoseEasy:i==="medium"?s=w.raceLoseMedium:i==="hard"?s=w.raceLoseHard:s=w.raceLoseMaster,y("lose"),J("race_lose")),z(s),he(s),M(k());const c=N.correctAnswers+N.wrongAnswers;He(t==="won",a,s,N.correctAnswers,c,i),t==="won"&&(ot(),lt()&&setTimeout(()=>{G(!0),ct()},2e3));try{window.parent!==window&&window.parent.postMessage({type:"gameEnd",game:"clockmaster",result:t},"*")}catch{}},we=(t,a=!1)=>{if(j||!d||f!=="playing")return;let l=!1;if(d.type==="master"&&d.options&&d.correctAnswer!==void 0){const s=d.options[d.correctAnswer];l=t===s&&!a}else{const s=`${d.targetTime.hours}:${String(d.targetTime.minutes).padStart(2,"0")}`;l=t===s&&!a}if(F(t),D(l?"correct":"incorrect"),l)le(s=>s+10),de(s=>Math.min(100,s+15)),ue(!0),U(s=>s+1),setTimeout(()=>ue(!1),1e3),W("correct","medium"),y("nitro"),P(s=>({...s,correctAnswers:s.correctAnswers+1})),ae("questions",1),Qe+1>=5&&ae("accuracy",1);else{B(c=>Math.min(100,c+5)),U(0),W("incorrect","light");const s=d.targetTime.hours;P(c=>({...c,wrongAnswers:c.wrongAnswers+1,mistakesByHour:{...c.mistakesByHour,[s]:(c.mistakesByHour[s]||0)+1}}))}setTimeout(()=>{f==="playing"&&(ce(s=>s+1),K())},1e3)},Ve=(t,a)=>{const l=t%12*30+a*.5-90,s=a*6-90;return{hourAngle:l,minuteAngle:s}},{hourAngle:Xe,minuteAngle:Ze}=d?Ve(d.targetTime.hours,d.targetTime.minutes):{hourAngle:0,minuteAngle:0},ye=()=>{const t=Object.entries(N.mistakesByHour);if(t.length===0)return null;const a=t.sort((c,v)=>v[1]-c[1]),[l,s]=a[0];return s>=2?`You had trouble with times around ${l} o'clock`:null},Je=()=>{const t=N.correctAnswers+N.wrongAnswers;return t===0?0:Math.round(N.correctAnswers/t*100)},et=oe?"calc(max(env(safe-area-inset-bottom, 0px), 16px) + 60px)":"max(env(safe-area-inset-bottom, 0px), 16px)";return e.jsxs("div",{className:"bg-gradient-to-br from-orange-400 via-red-400 to-pink-400 flex flex-col",style:{minHeight:"100dvh",maxHeight:"100dvh",paddingTop:"max(env(safe-area-inset-top, 0px), 16px)",paddingBottom:et,paddingLeft:"max(env(safe-area-inset-left, 0px), 16px)",paddingRight:"max(env(safe-area-inset-right, 0px), 16px)"},children:[p==="ready"&&e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"relative z-20 flex items-center justify-between mb-4 flex-shrink-0",children:[e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{y("click"),_("home")},className:"w-10 h-10 bg-white/30 backdrop-blur-md rounded-xl flex items-center justify-center shadow-lg",children:e.jsx($e,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Time Race"}),e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[e.jsxs(n.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"text-center mb-4",children:[e.jsx(n.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"text-5xl mb-2",children:"üèéÔ∏è"}),e.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Ready to Race?"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Answer time questions to boost your speed!"})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-md rounded-2xl p-4 mb-4 shadow-xl",children:[e.jsx("h3",{className:"text-white font-bold text-sm mb-3 text-center",children:"Select Difficulty"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["easy","medium","hard","master"].map(t=>e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{y("click"),Ee(t)},className:`
                    py-2 rounded-xl font-bold capitalize shadow-lg text-xs
                    ${i===t?t==="easy"?"bg-green-400 text-green-900":t==="medium"?"bg-yellow-400 text-yellow-900":t==="hard"?"bg-red-500 text-white":"bg-purple-500 text-white":"bg-white/30 text-white"}
                  `,children:[e.jsx("div",{className:"text-lg mb-0.5",children:t==="easy"?"üåü":t==="medium"?"‚≠ê":t==="hard"?"üí´":"üèÜ"}),t]},t))}),e.jsxs("div",{className:"mt-2 text-white/80 text-xs text-center",children:[i==="easy"&&`Full hours ‚Ä¢ 20s ‚Ä¢ Win: ${w.raceWinEasy} ü™ô`,i==="medium"&&`Quarter hrs ‚Ä¢ 15s ‚Ä¢ Win: ${w.raceWinMedium} ü™ô`,i==="hard"&&`Any time ‚Ä¢ 10s ‚Ä¢ Win: ${w.raceWinHard} ü™ô`,i==="master"&&`Olympiad Q's ‚Ä¢ 40s ‚Ä¢ Win: ${w.raceWinMaster} ü™ô`]})]}),e.jsx(n.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:`rounded-2xl p-3 mb-3 shadow-lg ${g.maxReached?"bg-red-500/30":g.needsAd?"bg-yellow-500/30":"bg-green-500/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wt,{className:`w-5 h-5 ${g.maxReached?"text-red-300":g.needsAd?"text-yellow-300":"text-green-300"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium text-sm",children:g.maxReached?"Daily Limit Reached":g.needsAd?"Out of Fuel!":`${g.gamesRemaining} Games Left`}),e.jsx("p",{className:"text-white/60 text-xs",children:g.maxReached?"Come back tomorrow!":g.needsAd?`Watch ad or refuel in ${Be}`:"Free games today"})]})]}),!g.maxReached&&g.gamesRemaining>0&&e.jsx("div",{className:"flex gap-1",children:Array.from({length:3}).map((t,a)=>e.jsx("div",{className:`w-2 h-5 rounded-full ${a<g.gamesRemaining?"bg-green-400":"bg-white/20"}`},a))})]})}),g.canPlay?e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ke,className:"w-full h-14 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl font-bold text-lg text-white shadow-lg flex items-center justify-center gap-2",children:[e.jsx(dt,{className:"w-6 h-6"}),"Start Race!"]}):g.needsAd?e.jsx(Ae,{canShow:re.canShow,cooldownSeconds:ke(),cooldownText:Q,reward:{type:"fuel",amount:1},extraRewardText:`& +${w.adRewardCoins} ü™ô`,onWatchAd:async()=>{const t=await re.showAd();return t?(Te(),z(t.amount),M(k()),!0):!1},onRewardEarned:()=>{y("correct"),W("success","medium")}}):g.maxReached?e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"h-14 bg-gray-500/50 rounded-2xl font-bold text-lg text-white/60 flex items-center justify-center gap-2",children:[e.jsx(ee,{className:"w-6 h-6"}),"Come Back Tomorrow!"]}):e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"h-14 bg-purple-500/30 rounded-2xl font-bold text-sm text-white flex items-center justify-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5"}),"Ad ready in ",Q]}),oe&&e.jsx("div",{className:"mt-3 text-center",children:e.jsx("span",{className:"text-[10px] font-bold text-white/60 tracking-widest uppercase bg-black/20 px-3 py-1 rounded-full",children:"‚Üì Advertisement Below ‚Üì"})})]})]}),p==="countdown"&&e.jsx(n.div,{className:"flex-1 flex items-center justify-center",children:e.jsx(n.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},className:"text-9xl font-bold text-white drop-shadow-2xl",children:C>0?C:"GO!"},C)}),(p==="playing"||p==="ended")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative z-20 flex items-center justify-between mb-4",children:[e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{y("click"),_("home")},className:"w-12 h-12 bg-white/30 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx($e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"bg-white/30 backdrop-blur-md rounded-2xl px-4 py-2 shadow-lg flex items-center gap-2",children:[e.jsx(mt,{className:"w-5 h-5 text-yellow-300"}),e.jsx("span",{className:"text-white font-bold",children:Ie})]}),e.jsxs("div",{className:`bg-white/30 backdrop-blur-md rounded-2xl px-4 py-2 shadow-lg flex items-center gap-2 ${T<=5?"animate-pulse bg-red-500/50":""}`,children:[e.jsx(ee,{className:"w-5 h-5 text-white"}),e.jsxs("span",{className:"text-white font-bold",children:[T,"s"]})]})]})]}),e.jsxs(n.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 mb-6 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-white font-bold",children:"You"})]}),e.jsxs("div",{className:"relative h-16 bg-gray-800/50 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex",children:[...Array(10)].map((t,a)=>e.jsx("div",{className:"flex-1 border-r-2 border-dashed border-white/20"},a))}),e.jsx(n.div,{animate:{left:`${I}%`},transition:{type:"spring",stiffness:100},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2",children:e.jsxs(n.div,{animate:me?{scale:[1,1.3,1]}:{},className:"relative",children:[e.jsx(pt,{type:se.selectedCarType||"speedster",color:se.selectedCarColor||"blue",className:"w-16 h-10"}),me&&e.jsx(n.div,{initial:{scale:0,x:0},animate:{scale:1,x:-20},exit:{opacity:0},className:"absolute left-0 top-1/2 -translate-y-1/2",children:e.jsx(Nt,{className:"w-8 h-8 text-yellow-300 fill-yellow-300"})})]})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 bg-red-400 rounded-full"}),e.jsx("span",{className:"text-white font-bold",children:"Computer"})]}),e.jsxs("div",{className:"relative h-16 bg-gray-800/50 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex",children:[...Array(10)].map((t,a)=>e.jsx("div",{className:"flex-1 border-r-2 border-dashed border-white/20"},a))}),e.jsx(n.div,{animate:{left:`${We}%`},transition:{type:"spring",stiffness:100},className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2",children:e.jsxs("div",{className:"w-14 h-10 bg-gradient-to-r from-red-500 to-orange-400 rounded-2xl shadow-lg relative",children:[e.jsx("div",{className:"absolute top-1 left-2 w-8 h-4 bg-red-300/50 rounded-lg"}),e.jsx("div",{className:"absolute bottom-0 left-1 w-3 h-3 bg-gray-900 rounded-full"}),e.jsx("div",{className:"absolute bottom-0 right-1 w-3 h-3 bg-gray-900 rounded-full"})]})})]})]})]}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-r from-transparent to-yellow-400/30 flex flex-col",children:[...Array(8)].map((t,a)=>e.jsx("div",{className:`flex-1 ${a%2===0?"bg-white":"bg-gray-900"}`},a))})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsxs(n.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring"},className:"bg-white/20 backdrop-blur-md rounded-3xl p-6 shadow-xl",children:[e.jsx("p",{className:"text-white text-xl font-bold text-center mb-4",children:d==null?void 0:d.displayText}),i!=="master"&&e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"relative w-40 h-40",children:e.jsxs("div",{className:"absolute inset-0 bg-white rounded-full shadow-lg",children:[[12,3,6,9].map((t,a)=>{const l=(a*90-90)*(Math.PI/180),s=50,c=Math.cos(l)*s,v=Math.sin(l)*s;return e.jsx("div",{className:"absolute text-lg font-bold text-gray-700",style:{left:`calc(50% + ${c}px)`,top:`calc(50% + ${v}px)`,transform:"translate(-50%, -50%)"},children:t},t)}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-3 h-3 bg-gray-700 rounded-full -translate-x-1/2 -translate-y-1/2 z-30"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 z-20",style:{width:"35px",height:"6px",transformOrigin:"3px center",transform:`translate(-3px, -3px) rotate(${Xe}deg)`},children:e.jsx("div",{className:"w-full h-full bg-gray-800 rounded-full"})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 z-20",style:{width:"50px",height:"4px",transformOrigin:"3px center",transform:`translate(-3px, -2px) rotate(${Ze}deg)`},children:e.jsx("div",{className:"w-full h-full bg-red-600 rounded-full"})})]})})}),i==="master"&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("span",{className:"text-4xl",children:"üèÜ"}),e.jsx("p",{className:"text-white/70 text-sm mt-2",children:"Olympiad Challenge"})]})]},Pe),e.jsx("div",{className:`grid gap-3 ${i==="master"?"grid-cols-1":"grid-cols-2"}`,children:qe.map((t,a)=>{const l=d&&(d.type==="master"?d.correctAnswer===a:t===`${d.targetTime.hours}:${String(d.targetTime.minutes).padStart(2,"0")}`);return e.jsx(n.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>we(t),disabled:!!j||f!=="playing",className:`
                  ${i==="master"?"h-14 text-base px-4 text-left":"h-16 text-xl text-center"} 
                  rounded-2xl font-bold shadow-lg
                  transition-all duration-300
                  ${j&&_e===t?j==="correct"?"bg-gradient-to-r from-green-400 to-emerald-500 scale-105":"bg-gradient-to-r from-red-400 to-red-500":j&&l?"bg-gradient-to-r from-green-400 to-emerald-500 ring-4 ring-green-300":"bg-white/30 backdrop-blur-md text-white"}
                  disabled:cursor-not-allowed
                `,children:e.jsx("span",{className:i==="master"?"line-clamp-2":"",children:i==="master"?`${String.fromCharCode(65+a)}. ${t}`:t})},t)})})]}),e.jsx(te,{children:j&&f==="playing"&&e.jsx(n.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},className:"fixed inset-0 flex items-center justify-center pointer-events-none z-50",children:e.jsx("div",{className:`
              text-8xl font-bold
              ${j==="correct"?"text-green-400":"text-red-400"}
              drop-shadow-2xl
            `,children:j==="correct"?"‚úì":"‚úó"})})}),e.jsx(te,{children:f!=="playing"&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:e.jsxs(n.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"bg-gradient-to-br from-white via-gray-50 to-gray-100 rounded-3xl p-8 max-w-md w-full shadow-2xl",children:[e.jsx(n.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-center mb-6",children:f==="won"?e.jsxs(e.Fragment,{children:[e.jsx(n.div,{animate:{rotate:[0,10,-10,10,0],scale:[1,1.1,1]},transition:{repeat:1/0,duration:2},className:"text-8xl mb-4",children:"üèÜ"}),e.jsx("h1",{className:"text-4xl font-bold text-green-600 mb-2",children:"You Won!"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Congratulations, Time Champion!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(n.div,{animate:{rotate:[0,-5,5,-5,0]},transition:{repeat:1/0,duration:2},className:"text-8xl mb-4",children:"üò¢"}),e.jsx("h1",{className:"text-4xl font-bold text-red-600 mb-2",children:"You Lost!"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Keep practicing!"})]})}),e.jsxs(n.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"bg-gradient-to-r from-yellow-400 to-orange-400 rounded-2xl p-4 mb-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[e.jsx(Ce,{className:"w-6 h-6 text-white fill-white"}),e.jsx("span",{className:"text-white font-bold text-lg",children:"Points Earned"}),e.jsx(Ce,{className:"w-6 h-6 text-white fill-white"})]}),e.jsx("p",{className:"text-5xl font-bold text-white",children:Ge})]}),e.jsxs(n.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"space-y-3 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5"}),"Race Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-green-100 rounded-2xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:N.correctAnswers}),e.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Correct Answers"})]}),e.jsxs("div",{className:"bg-red-100 rounded-2xl p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:N.wrongAnswers}),e.jsx("p",{className:"text-sm text-red-700 font-medium",children:"Wrong Answers"})]}),e.jsxs("div",{className:"bg-blue-100 rounded-2xl p-4 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[N.totalTime,"s"]}),e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Total Time"})]}),e.jsxs("div",{className:"bg-purple-100 rounded-2xl p-4 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Je(),"%"]}),e.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Accuracy"})]})]})]}),ye()&&e.jsx(n.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9},className:"bg-orange-100 rounded-2xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ut,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-orange-800 mb-1",children:"Learning Insight"}),e.jsx("p",{className:"text-orange-700 text-sm",children:ye()}),e.jsx("p",{className:"text-orange-600 text-xs mt-1",children:"Try practicing these times more!"})]})]})}),e.jsxs(n.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1},className:"space-y-3",children:[e.jsx(Ae,{canShow:ne.canShow,cooldownSeconds:ke(),cooldownText:Q,reward:{type:"coins",amount:w.adRewardCoins},extraRewardText:"& Fuel",onWatchAd:async()=>{const t=await ne.showAd();return t?(z(t.amount),Te(),M(k()),!0):!1},onRewardEarned:()=>{y("correct"),W("success","medium")}}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{M(k()),H("ready"),q("playing"),le(0),ce(1),de(10),B(10),O(null),P({correctAnswers:0,wrongAnswers:0,totalTime:0,mistakesByHour:{},averageSpeed:0}),he(0),U(0),y("click")},className:"flex-1 h-14 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl font-bold text-white shadow-lg",children:"Race Again"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{y("click"),_("home")},className:"flex-1 h-14 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-2xl font-bold text-white shadow-lg",children:"Home"})]})]})]})})}),e.jsx(te,{children:ze&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-6",children:e.jsx(n.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},exit:{scale:0,rotate:10},className:"bg-gradient-to-br from-yellow-400 to-orange-500 rounded-3xl p-6 max-w-sm w-full shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx(n.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:1.5},className:"text-6xl mb-4",children:"‚≠ê"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Enjoying Clock Master?"}),e.jsx("p",{className:"text-white/90 mb-6",children:"Your rating helps other kids find this app! üéâ"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{G(!1)},className:"flex-1 h-12 bg-white/30 rounded-2xl font-bold text-white",children:"Maybe Later"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ht(),G(!1),window.open("https://play.google.com/store/apps/details?id=com.clockmaster.timeforjuniors","_blank")},className:"flex-1 h-12 bg-white rounded-2xl font-bold text-orange-600",children:"Rate Now! ‚≠ê"})]})]})})})})]})]})}export{Rt as TimeRaceScreen};
