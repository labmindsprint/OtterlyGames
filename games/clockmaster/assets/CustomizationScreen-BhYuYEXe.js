import{c as B,r as f,p as M,u as $,a as L,q as E,j as e,m as l,d as r,e as F,g as O}from"./index-DBm50toB.js";import{C as D}from"./CarDesign-sp5hOWUE.js";import{H as U}from"./house-BeGuLZfb.js";import{C as d}from"./coins-DRANhyEF.js";import{L as w}from"./lock-C52JFBfn.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],b=B("check",_);function X({onNavigate:v}){var N;f.useEffect(()=>{M("main")},[]);const{coins:k,customizations:a,setCustomization:m,isItemUnlocked:c,unlockItem:C,addCoins:y}=$(),x=L(O.SHOP_BONUS),[p,S]=f.useState("car"),[h,A]=f.useState("types"),[V,g]=f.useState(null),t=E(),T=[{id:"blue",name:"Ocean Blue",price:t.priceBlue},{id:"red",name:"Racing Red",price:t.priceRed},{id:"green",name:"Lime Green",price:t.priceGreen},{id:"yellow",name:"Sunny Yellow",price:t.priceYellow},{id:"pink",name:"Bubblegum Pink",price:t.pricePink},{id:"purple",name:"Royal Purple",price:t.pricePurple},{id:"golden",name:"Royal Gold",price:t.priceGolden}].sort((s,i)=>s.price-i.price),j=[{id:"speedster",name:"Speedster",price:t.priceSpeedster,emoji:"ğŸï¸",description:"Classic racer"},{id:"vintage",name:"Retro Cruiser",price:t.priceRetroCruiser,emoji:"ğŸ¸",description:"50s vibes"},{id:"muscle",name:"Thunder Muscle",price:t.priceThunderMuscle,emoji:"ğŸ’ª",description:"Raw power"},{id:"truck",name:"Titan Hauler",price:t.priceTitanHauler,emoji:"ğŸ¦¾",description:"Mighty truck"},{id:"offroad",name:"Desert Storm",price:t.priceDesertStorm,emoji:"ğŸœï¸",description:"Off-road beast"},{id:"futuristic",name:"Neon Glider",price:t.priceNeonGlider,emoji:"ğŸš€",description:"From the future"},{id:"supercar",name:"Phantom GT",price:t.pricePhantomGT,emoji:"ğŸ‘»",description:"Ultimate speed"},{id:"sports",name:"Viper Strike",price:t.priceViperStrike,emoji:"ğŸ",description:"Sleek & fast"},{id:"jet",name:"Sky Blazer",price:t.priceSkyBlazer,emoji:"âœˆï¸",description:"Jet-powered"},{id:"monster",name:"Mega Crusher",price:t.priceMegaCrusher,emoji:"ğŸ‘¹",description:"Monster truck"}].sort((s,i)=>s.price-i.price),H=[{id:"flames",name:"Flame Decals",price:t.priceFlames},{id:"stars",name:"Star Stickers",price:t.priceStars},{id:"stripes",name:"Racing Stripes",price:t.priceStripes},{id:"lightning",name:"Lightning Bolt",price:t.priceLightning}].sort((s,i)=>s.price-i.price),R=[{id:"robot",name:"Time Robot",price:0},{id:"cat",name:"Clock Cat",price:100},{id:"astronaut",name:"Space Explorer",price:150},{id:"wizard",name:"Time Wizard",price:200}],P=(s,i,o)=>{o!==0&&(C(s,i,o)?(F("unlock","medium"),g(i),setTimeout(()=>g(null),2e3)):r("incorrect"))},u=(s,i,o)=>{c(s,i)||o===0?(r("click"),m(s==="carColors"?"selectedCarColor":s==="carAccessories"?"selectedCarAccessory":s==="carTypes"?"selectedCarType":"selectedAvatar",i)):P(s,i,o)},z=async()=>{if(x.canShow){r("click");const s=await x.showAd();s&&y(s.amount)}},G=s=>{const i={blue:"from-blue-500 to-cyan-400",red:"from-red-500 to-orange-400",green:"from-green-500 to-emerald-400",purple:"from-purple-500 to-pink-400",yellow:"from-yellow-500 to-orange-300",pink:"from-pink-500 to-rose-400",golden:"from-yellow-400 to-amber-500"};return i[s]||i.blue},n=a.selectedCarType||"speedster";return e.jsxs("div",{className:"bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 flex flex-col",style:{minHeight:"100dvh",maxHeight:"100dvh",paddingTop:"max(env(safe-area-inset-top, 0px), 16px)",paddingBottom:"max(env(safe-area-inset-bottom, 0px), 16px)",paddingLeft:"max(env(safe-area-inset-left, 0px), 16px)",paddingRight:"max(env(safe-area-inset-right, 0px), 16px)"},children:[e.jsxs("div",{className:"relative z-20 flex items-center justify-between mb-4 flex-shrink-0",children:[e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{r("click"),v("home")},className:"w-10 h-10 bg-white/30 backdrop-blur-md rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsxs(l.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:2},className:"bg-yellow-400 rounded-2xl px-4 py-2 shadow-lg flex items-center gap-1.5",children:[e.jsx(d,{className:"w-5 h-5 text-yellow-900"}),e.jsx("span",{className:"text-xl font-bold text-yellow-900",children:k})]}),x.canShow&&e.jsx(l.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"w-10 h-10 bg-purple-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-lg",children:"ğŸ“º"})}),!x.canShow&&e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[e.jsxs(l.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-center mb-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"ğŸš— Car Shop"}),e.jsx("p",{className:"text-white text-sm mt-0.5",children:"Spend coins to make your car & avatar awesome! âœ¨"})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:["car","avatar"].map(s=>e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{r("click"),S(s)},className:`
              flex-1 h-11 rounded-xl font-bold text-base shadow-lg
              transition-all duration-300
              ${p===s?"bg-white text-purple-600":"bg-white/30 backdrop-blur-md text-white"}
            `,children:s==="car"?"ğŸï¸ Racing Car":"ğŸ‘¤ Avatar"},s))}),e.jsxs(l.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"bg-white/20 backdrop-blur-md rounded-2xl p-4 mb-4 shadow-xl",children:[e.jsx("h2",{className:"text-white font-bold text-base text-center mb-3",children:"Preview"}),p==="car"?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"relative",children:e.jsxs(l.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},className:"relative",children:[e.jsx(D,{type:n,color:a.selectedCarColor||"blue",className:"w-48 h-28"}),a.selectedCarAccessory==="flames"&&e.jsx(l.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:1},className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4",children:e.jsx("div",{className:"text-4xl",children:"ğŸ”¥"})}),a.selectedCarAccessory==="stripes"&&e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-1",children:[e.jsx("div",{className:"w-1 h-16 bg-white/70 rounded-full"}),e.jsx("div",{className:"w-1 h-16 bg-white/70 rounded-full"})]}),a.selectedCarAccessory==="stars"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-2 right-2 text-2xl",children:"â­"}),e.jsx("div",{className:"absolute bottom-2 right-4 text-xl",children:"â­"})]}),a.selectedCarAccessory==="lightning"&&e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-3xl",children:"âš¡"})]},`${a.selectedCarColor}-${n}`)}),e.jsx("p",{className:"text-white/80 text-sm mt-3 font-medium",children:((N=j.find(s=>s.id===n))==null?void 0:N.name)||"Speedster"})]}):e.jsx("div",{className:"flex justify-center",children:e.jsx(l.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring"},className:"w-32 h-32 bg-gradient-to-br from-cyan-300 to-blue-400 rounded-3xl shadow-2xl flex items-center justify-center",children:e.jsxs("div",{className:"text-6xl",children:[a.selectedAvatar==="robot"&&"ğŸ¤–",a.selectedAvatar==="cat"&&"ğŸ±",a.selectedAvatar==="astronaut"&&"ğŸ‘¨â€ğŸš€",a.selectedAvatar==="wizard"&&"ğŸ§™"]})},a.selectedAvatar)})]}),e.jsxs("div",{className:"flex-1",children:[p==="car"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex gap-2 mb-3",children:["types","colors","accessories"].map(s=>e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{r("click"),A(s)},className:`
                    flex-1 py-2 rounded-xl font-bold text-xs capitalize shadow-md
                    transition-all duration-200
                    ${h===s?"bg-white text-purple-600":"bg-white/20 backdrop-blur-sm text-white"}
                  `,children:[s==="types"&&"ğŸš— ",s==="colors"&&"ğŸ¨ ",s==="accessories"&&"âœ¨ ",s.charAt(0).toUpperCase()+s.slice(1)]},s))}),h==="types"&&e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"grid grid-cols-2 gap-3",children:j.map(s=>{const i=c("carTypes",s.id);return e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("carTypes",s.id,s.price),className:`
                        relative h-28 rounded-2xl shadow-lg overflow-hidden
                        bg-white/30 backdrop-blur-md
                        ${n===s.id?"ring-4 ring-white":""}
                      `,children:[e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-2",children:[e.jsx("div",{className:"text-3xl mb-1",children:s.emoji}),e.jsx("p",{className:"text-white text-sm font-bold text-center",children:s.name}),e.jsx("p",{className:"text-white/60 text-xs text-center",children:s.description})]}),!i&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[e.jsx(w,{className:"w-5 h-5 text-white mb-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3 text-yellow-300"}),e.jsx("span",{className:"text-white font-bold text-sm",children:s.price})]})]}),i&&n===s.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(b,{className:"w-5 h-5 text-green-400"})})]},s.id)})}),h==="colors"&&e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"grid grid-cols-3 gap-3",children:T.map(s=>{const i=c("carColors",s.id);return e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("carColors",s.id,s.price),className:`
                        relative h-24 rounded-2xl shadow-lg overflow-hidden
                        ${a.selectedCarColor===s.id?"ring-4 ring-white":""}
                      `,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${G(s.id)}`}),!i&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[e.jsx(w,{className:"w-5 h-5 text-white mb-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3 text-yellow-300"}),e.jsx("span",{className:"text-white font-bold text-sm",children:s.price})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/40 backdrop-blur-sm p-1",children:e.jsx("p",{className:"text-white text-xs font-bold text-center",children:s.name})}),i&&a.selectedCarColor===s.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(b,{className:"w-5 h-5 text-white drop-shadow-lg"})})]},s.id)})}),h==="accessories"&&e.jsx(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"grid grid-cols-2 gap-3",children:H.map(s=>{const i=c("carAccessories",s.id);return e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("carAccessories",s.id,s.price),className:`
                        relative h-24 rounded-2xl shadow-lg overflow-hidden
                        bg-white/30 backdrop-blur-md
                        ${a.selectedCarAccessory===s.id?"ring-4 ring-white":""}
                      `,children:[e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-2",children:[e.jsxs("div",{className:"text-3xl mb-1",children:[s.id==="flames"&&"ğŸ”¥",s.id==="stripes"&&"ğŸ¨",s.id==="stars"&&"â­",s.id==="lightning"&&"âš¡"]}),e.jsx("p",{className:"text-white text-sm font-bold text-center",children:s.name})]}),!i&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[e.jsx(w,{className:"w-5 h-5 text-white mb-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3 text-yellow-300"}),e.jsx("span",{className:"text-white font-bold text-sm",children:s.price})]})]}),i&&a.selectedCarAccessory===s.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(b,{className:"w-5 h-5 text-green-400"})})]},s.id)})})]}),p==="avatar"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold text-lg mb-3",children:"Avatar Options"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:R.map(s=>{const i=c("avatars",s.id);return e.jsxs(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u("avatars",s.id,s.price),className:`
                      relative h-36 rounded-2xl shadow-lg overflow-hidden
                      bg-gradient-to-br from-cyan-300 to-blue-400
                      ${a.selectedAvatar===s.id?"ring-4 ring-white":""}
                    `,children:[e.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-6xl mb-2",children:[s.id==="robot"&&"ğŸ¤–",s.id==="cat"&&"ğŸ±",s.id==="astronaut"&&"ğŸ‘¨â€ğŸš€",s.id==="wizard"&&"ğŸ§™"]}),e.jsx("p",{className:"text-white text-sm font-bold",children:s.name})]}),!i&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center",children:[e.jsx(w,{className:"w-6 h-6 text-white mb-1"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-4 h-4 text-yellow-300"}),e.jsx("span",{className:"text-white font-bold",children:s.price})]})]})]},s.id)})})]})]})]})]})}export{X as CustomizationScreen};
