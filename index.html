<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Otterly Games ‚Äî Where Learning Gets Wild</title>
  <meta name="description" content="Educational games kids actually beg to play. Built by a mom. Zero data collected. COPPA certified. Otter-powered learning fun.">
  <meta name="keywords" content="educational games for kids, math games, clock learning app, multiplication game, kids learning app">
  <link rel="canonical" href="https://otterlygames.com/">
  <meta property="og:title" content="Otterly Games ‚Äî Where Learning Gets Wild">
  <meta property="og:description" content="Educational games kids actually beg to play. Zero data. COPPA certified. Mom-made.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://otterlygames.com/images/Otter-mascot.png">
  <meta property="og:url" content="https://otterlygames.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Otterly Games ‚Äî Where Learning Gets Wild">
  <meta name="twitter:description" content="Educational games kids actually beg to play. Zero data. COPPA certified. Mom-made.">
  <meta name="twitter:image" content="https://otterlygames.com/images/Otter-mascot.png">
  <meta name="pinterest-rich-pin" content="true">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Otterly Games",
    "url": "https://otterlygames.com",
    "logo": "https://otterlygames.com/images/Otter-mascot.png",
    "description": "Educational games kids actually beg to play. Built by a mom. Zero data collected. COPPA certified.",
    "foundingDate": "2026",
    "sameAs": [
      "https://play.google.com/store/apps/details?id=com.clockmaster.timeforjuniors"
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Otterly Games",
    "url": "https://otterlygames.com",
    "description": "Educational games kids actually beg to play. Built by a mom. Zero data collected. COPPA certified.",
    "publisher": {
      "@type": "Organization",
      "name": "Otterly Games",
      "logo": {
        "@type": "ImageObject",
        "url": "https://otterlygames.com/images/Otter-mascot.png"
      }
    }
  }
  </script>
  <link rel="icon" type="image/png" sizes="48x48" href="/images/favicon-48x48.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/images/favicon-192x192.png">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <!-- Shared CSS (single source of truth) -->
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/components.css">
  <!-- Page-specific overrides -->
  <link rel="stylesheet" href="/css/homepage.css">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-NX29GXGV7H"></script>
  <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-NX29GXGV7H');</script>
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5489426086320283" crossorigin="anonymous"></script>
</head>
<body>

  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <a href="/" class="nav-brand">
        <img src="/images/Otter-mascot.png" alt="Otterly Games">
        <span class="brand-text">Otterly Games</span>
      </a>
      <button class="nav-toggle" id="navToggle" aria-label="Menu"><span></span><span></span><span></span></button>
      <div class="nav-links" id="navLinks">
        <a href="#games">Games</a>
        <a href="/tools/">Tools</a>
        <a href="/blog/">Blog</a>
        <a href="/about.html">About</a>
        <a href="/contact.html">Contact</a>
        <a href="#games" class="nav-cta">Get Our Games ‚Üí</a>
      </div>
    </div>
  </nav>

  <!-- SCROLL PROGRESS BAR -->
  <div class="scroll-progress" id="scrollProgress"></div>

  <!-- HERO + ABOUT COMBINED -->
  <section class="hero" id="about">
    <div class="hero-particles">
      <span class="particle p1">‚ú¶</span>
      <span class="particle p2">‚ú¶</span>
      <span class="particle p3">‚úß</span>
      <span class="particle p4">‚ú¶</span>
      <span class="particle p5">‚úß</span>
    </div>
    <div class="hero-about-wrapper">
      <!-- LEFT: BRAND IDENTITY -->
      <div class="hero-content">
        <div class="hero-mascot fade-in">
          <img src="/images/Otter-mascot.png" alt="Otterly ‚Äî your learning buddy">
        </div>
        <h1 class="fade-in"><span class="gradient-text">Otterly</span> Smart.</h1>
        <p class="hero-tagline fade-in">
          Learning like no <span class="gradient-text">otter</span>.
        </p>
        <p class="hero-pitch fade-in">
          A mom turned <strong class="amber">screen time guilt</strong> into
          <strong class="green">screen time wins</strong>.<br>
          Games so fun, kids don't realize they're getting smarter.
        </p>
        <div class="hero-actions fade-in">
          <a href="#play" class="btn-glow">‚ñ∂ Play Now</a>
          <a href="#games" class="btn-outline">Our Games ‚Üí</a>
        </div>
      </div>

      <!-- RIGHT: THE STORY -->
      <div class="story-panel fade-in-right">
        <div class="story-glow"></div>
        <div class="story-accent"></div>
        <div class="story-body">
          <span class="story-label">Our Story</span>
          <h2>Built by a Mom.<br>Tested by <span class="gradient-text">Real Kids</span>.</h2>
          <p>
            My son was in tears over reading a clock. Multiplication felt like punishment.
            So I built what I wished existed ‚Äî games that are <em>genuinely fun</em> and
            <em>genuinely educational</em>. No dark patterns. No data harvesting. Just honest
            games made with love.
          </p>
          <div class="trust-grid">
            <div class="trust-badge fade-in stagger-1">
              <span class="trust-icon">üîí</span>
              <div><strong>Zero Data</strong><small>Nothing collected. Ever.</small></div>
            </div>
            <div class="trust-badge fade-in stagger-2">
              <span class="trust-icon">‚úÖ</span>
              <div><strong>COPPA Certified</strong><small>Fully compliant & safe.</small></div>
            </div>
            <div class="trust-badge fade-in stagger-3">
              <span class="trust-icon">üíù</span>
              <div><strong>Mom-Made</strong><small>With love, not algorithms.</small></div>
            </div>
            <div class="trust-badge fade-in stagger-4">
              <span class="trust-icon">‚≠ê</span>
              <div><strong>New & Growing</strong><small>More games coming soon.</small></div>
            </div>
          </div>
          <a href="/about.html" class="story-link">Read the full story ‚Üí</a>
        </div>
      </div>
    </div>
    <!-- Scroll Indicator -->
    <a href="#games" class="scroll-indicator" id="scrollIndicator">
      <span>Scroll</span>
      <div class="chevrons">
        <div class="chevron"></div>
        <div class="chevron"></div>
      </div>
    </a>
  </section>
  <!-- CLOCK MASTER -->
  <section class="game-section clock-section" id="games">
    <div class="game-bg" style="background-image: url('/images/Otter-race.jpeg')"></div>
    <div class="game-inner">
      <div class="game-phone fade-in-left" onclick="switchGame('clock')" style="cursor:pointer">
        <div class="game-phone-screen">
          <div class="game-phone-camera"></div>
          <div style="position:absolute;inset:0;background:linear-gradient(135deg,#f97316,#ec4899);display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:23px;">
            <div style="font-size:3rem;margin-bottom:0.5rem;">üèéÔ∏è</div>
            <div style="color:white;font-weight:800;font-size:1.1rem;font-family:Nunito,sans-serif;">Clock Master</div>
            <div style="color:rgba(255,255,255,0.7);font-size:0.8rem;margin-bottom:1rem;">Time Race</div>
            <div style="background:rgba(255,255,255,0.2);padding:0.5rem 1.5rem;border-radius:999px;color:white;font-weight:700;font-size:0.85rem;">‚ñ∂ Tap to Play</div>
          </div>
          <div class="game-phone-home"></div>
        </div>
      </div>
      <div class="game-info fade-in-right">
        <span class="game-tag purple">Clock Master</span>
        <h2>Time to<br>Race!</h2>
        <p class="game-pun">"Why was the clock always stressed? It was <em>ticked</em> off!" üïê</p>
        <p class="game-desc">
          Let's be honest ‚Äî teaching kids to read a clock is <em>otterly</em> painful.
          "No sweetie, the short hand is hours..." Sound familiar?
          We turned that struggle into a racing game. Every correct answer
          gives your car a speed boost. Suddenly kids WANT to know what 3:45 looks like.
        </p>
        <ul class="game-features">
          <li><span class="feat-icon">üèéÔ∏è</span><span><strong>Race to learn</strong> ‚Äî Answer clock questions to boost speed</span></li>
          <li><span class="feat-icon">üìà</span><span><strong>4 difficulty levels</strong> ‚Äî From hours to minutes & seconds</span></li>
          <li><span class="feat-icon">üöÄ</span><span><strong>Space tracks</strong> ‚Äî Race through planets as you level up</span></li>
          <li><span class="feat-icon">üé®</span><span><strong>Car shop</strong> ‚Äî Earn coins, unlock cool rides</span></li>
        </ul>
        <a href="#play" class="game-play-btn purple" onclick="switchGame('clock')">‚ñ∂ Try Clock Master</a>
      </div>
    </div>
  </section>

  <!-- MATH TANK -->
  <section class="game-section math-section">
    <div class="game-bg" style="background-image: url('/images/Otter-tank.png')"></div>
    <div class="game-inner">
      <div class="game-info fade-in-left">
        <span class="game-tag pink">Math Tank</span>
        <h2>Multiply.<br>Divide.<br>Conquer.</h2>
        <p class="game-pun">"What do you call an otter good at math? An <em>otter-matic</em> calculator!" üéØ</p>
        <p class="game-desc">
          Times tables don't have to be torture sessions. In Math Tank,
          every correct answer fires a missile at enemy tanks.
          Get it wrong? You take damage. Kids get so competitive they
          don't realize they're drilling 7√ó8 for the 50th time.
          That's <em>otterly</em> genius.
        </p>
        <ul class="game-features">
          <li><span class="feat-icon">üí•</span><span><strong>Battle mode</strong> ‚Äî Solve to shoot, miss and take damage</span></li>
          <li><span class="feat-icon">üß†</span><span><strong>Adaptive difficulty</strong> ‚Äî Easy, Medium, Hard, God mode</span></li>
          <li><span class="feat-icon">üèÜ</span><span><strong>Daily quests</strong> ‚Äî Fresh challenges keep kids coming back</span></li>
          <li><span class="feat-icon">üåå</span><span><strong>Save the Universe</strong> ‚Äî Epic story mode through space</span></li>
        </ul>
        <a href="#play" class="game-play-btn pink" onclick="switchGame('math')">‚ñ∂ Try Math Tank</a>
      </div>
      <div class="game-phone fade-in-right" onclick="switchGame('math')" style="cursor:pointer">
        <div class="game-phone-screen">
          <div class="game-phone-camera"></div>
          <div style="position:absolute;inset:0;background:linear-gradient(135deg,#1a1a2e,#3b1a5e);display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:23px;">
            <div style="font-size:3rem;margin-bottom:0.5rem;">üéØ</div>
            <div style="color:white;font-weight:800;font-size:1.1rem;font-family:Nunito,sans-serif;">Math Tank</div>
            <div style="color:rgba(255,255,255,0.7);font-size:0.8rem;margin-bottom:1rem;">Battle Mode</div>
            <div style="background:rgba(255,255,255,0.2);padding:0.5rem 1.5rem;border-radius:999px;color:white;font-weight:700;font-size:0.85rem;">‚ñ∂ Tap to Play</div>
          </div>
          <div class="game-phone-home"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- PLAY & DOWNLOAD -->
  <section class="play-section" id="play">
    <div class="play-header">
      <h2 class="fade-in">Try It <span class="gradient-text">Right Now</span></h2>
      <p class="fade-in">Pick a game. Play it right here. Love it? Grab it.</p>
      <div class="play-tabs fade-in">
        <button class="play-tab active" data-game="clock" onclick="switchGame('clock')">üïê Clock Master</button>
        <button class="play-tab" data-game="math" onclick="switchGame('math')">üéØ Math Tank</button>
      </div>
    </div>
    <div class="play-inner fade-in">
      <!-- LEFT: Phone -->
      <div class="play-phone-col">
        <div class="play-phone-wrap" id="playPhoneWrap">
          <div class="play-phone" id="playPhone">
            <div class="play-screen">
              <div class="play-camera"></div>
              <div class="iframe-scaler" id="iframeScaler">
                <iframe id="clock-frame" class="play-iframe" allow="autoplay" title="Clock Master"></iframe>
                <iframe id="math-frame" class="play-iframe" style="display:none" allow="autoplay" title="Math Tank"></iframe>
              </div>
              <!-- Game splash preview (visible before play) -->
              <div class="play-splash" id="playSplash" data-game="clock">
                <div class="play-splash-bg clock-splash"></div>
                <div class="play-splash-bg math-splash"></div>
              </div>
              <!-- Tap to Play overlay (on top of splash) -->
              <div class="play-start-overlay" id="playStartOverlay" onclick="startGame()">
                <div class="play-start-icon" id="splashIcon">üèéÔ∏è</div>
                <div class="play-start-title" id="splashTitle">Clock Master</div>
                <div class="play-start-mode" id="splashMode">Time Race</div>
                <div class="play-start-btn">‚ñ∂</div>
                <p>Tap to Play</p>
              </div>
              <div class="play-overlay" id="gameOverlay">
                <div style="font-size:2.5rem;margin-bottom:0.5rem">üéâ</div>
                <h3>Great Round!</h3>
                <p>Download the app for achievements, progress tracking & more</p>
                <a class="overlay-dl" href="https://play.google.com/store/apps/details?id=com.clockmaster.timeforjuniors" target="_blank" rel="noopener" onclick="closeOverlay()">üì≤ Get the App</a>
                <button class="overlay-skip" onclick="dismissOverlay()">Keep Playing</button>
              </div>
              <div class="play-home-bar"></div>
            </div>
            <button class="expand-btn" id="expandBtn" onclick="toggleExpand()" title="Expand game">
              <svg id="expandIcon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>
              <svg id="contractIcon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- RIGHT: Download info -->
      <div class="play-info" id="download">
        <h3>Get the<br><span class="gradient-text">Full Experience</span></h3>
        <p class="play-info-desc">All levels, achievements & progress tracking ‚Äî offline, on your device. Built by a mom who understands screen time.</p>
        <ul class="play-info-perks">
          <li><span class="feat-icon">üì¥</span><span><strong>Works offline</strong> ‚Äî No Wi-Fi needed</span></li>
          <li><span class="feat-icon">üèÜ</span><span><strong>Achievements</strong> ‚Äî Track your child's progress</span></li>
          <li><span class="feat-icon">‚è±Ô∏è</span><span><strong>Daily limits</strong> ‚Äî Built-in screen time controls</span></li>
          <li><span class="feat-icon">üîí</span><span><strong>COPPA compliant</strong> ‚Äî No data collected</span></li>
        </ul>
        <div class="play-info-buttons">
          <a href="https://play.google.com/store/apps/details?id=com.clockmaster.timeforjuniors&pcampaignid=web_share" target="_blank" rel="noopener" class="game-play-btn purple">
            <svg viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 01-.61-.92V2.734a1 1 0 01.609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.198l2.807 1.626a1 1 0 010 1.73l-2.808 1.626L15.206 12l2.492-2.491zM5.864 2.658L16.802 8.99l-2.303 2.303-8.635-8.635z"/></svg>
            Clock Master ‚Äî Google Play
          </a>
          <span class="game-play-btn purple disabled">
            <svg viewBox="0 0 24 24" fill="currentColor" style="width:20px;height:20px"><path d="M3.609 1.814L13.792 12 3.61 22.186a.996.996 0 01-.61-.92V2.734a1 1 0 01.609-.92zm10.89 10.893l2.302 2.302-10.937 6.333 8.635-8.635zm3.199-3.198l2.807 1.626a1 1 0 010 1.73l-2.808 1.626L15.206 12l2.492-2.491zM5.864 2.658L16.802 8.99l-2.303 2.303-8.635-8.635z"/></svg>
            Math Tank ‚Äî Coming Soon
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- FREE LEARNING TOOLS -->
  <section class="tools-section">
    <div class="tools-inner">
      <h3 class="fade-in">Free <span class="gradient-text">Learning Tools</span></h3>
      <p class="fade-in">Practice anytime, right in your browser ‚Äî no download needed</p>
      <div id="tools-preview" class="tools-grid--compact">
        <!-- OG.renderToolsPreview populates this from _data/tools.json -->
      </div>
      <a href="/tools/" class="section-more-link fade-in">View all tools &rarr;</a>
    </div>
  </section>

  <!-- RECENT BLOG POSTS -->
  <section class="blog-preview-section">
    <div class="blog-preview-inner">
      <h3 class="fade-in">From <span class="gradient-text">The Otter Side</span></h3>
      <p class="fade-in">Tips, stories & guides from a mom who builds learning games</p>
      <div id="blog-preview" class="blog-preview-grid">
        <!-- OG.renderBlogPreview populates this from _data/blogs.json -->
      </div>
      <a href="/blog/" class="section-more-link fade-in">Read more on the blog &rarr;</a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-links">
      <a href="/">Home</a><a href="/tools/">Tools</a><a href="/blog/">Blog</a><a href="/about.html">About</a><a href="/privacy.html">Privacy</a><a href="/contact.html">Contact</a>
    </div>
    <p style="color:#4a4a60">&copy; 2026 Otterly Games. Built with ‚ù§Ô∏è by a mom who gets it.</p>
  </footer>

  <button class="scroll-top" id="scrollTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚Üë</button>

  <script>
    document.getElementById('navToggle').addEventListener('click', () => document.getElementById('navLinks').classList.toggle('open'));
    const obs = new IntersectionObserver(entries => {
      entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
    document.querySelectorAll('.fade-in, .fade-in-left, .fade-in-right').forEach(el => obs.observe(el));
    window.addEventListener('scroll', () => {
      document.getElementById('scrollTop').classList.toggle('show', window.scrollY > 500);
      const scrollIndicator = document.getElementById('scrollIndicator');
      if (scrollIndicator) scrollIndicator.classList.toggle('hidden', window.scrollY > 100);
      // Scroll progress bar
      const scrollProgress = document.getElementById('scrollProgress');
      if (scrollProgress) {
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (window.scrollY / docHeight) * 100;
        scrollProgress.style.width = scrollPercent + '%';
      }
    });

    /* ---- Audio-smart iframe management ---- */
    const GAME_SRCS = { clock: '/games/clockmaster/?mode=race', math: '/games/mathtank/?mode=battle' };
    let activeGame = 'clock';
    let loaded = { clock: false, math: false };
    let started = false; // user clicked "Tap to Play"

    /* Pause every <audio> and AudioContext inside an iframe */
    function pauseIframeAudio(frame) {
      try {
        // Primary: postMessage (game listens for this)
        if (frame.contentWindow) {
          frame.contentWindow.postMessage({ type: 'pauseAudio' }, '*');
        }
        // Backup: call tracked-audio helper injected by game HTML
        if (frame.contentWindow && typeof frame.contentWindow.__pauseAllAudio === 'function') {
          frame.contentWindow.__pauseAllAudio();
        }
      } catch (e) { /* cross-origin ‚Äî ignore */ }
    }

    /* Load an iframe if not yet loaded */
    function ensureLoaded(game) {
      const frame = document.getElementById(game === 'clock' ? 'clock-frame' : 'math-frame');
      if (!loaded[game]) {
        frame.src = GAME_SRCS[game];
        loaded[game] = true;
      }
    }

    /* "Tap to Play" handler */
    function startGame() {
      started = true;
      document.getElementById('playStartOverlay').classList.add('hidden');
      const splash = document.getElementById('playSplash');
      if (splash) splash.classList.add('hidden');
      ensureLoaded(activeGame);
    }

    function switchGame(game) {
      const prev = activeGame;
      activeGame = game;
      document.querySelectorAll('.play-tab').forEach(t => t.classList.toggle('active', t.dataset.game === game));
      const cf = document.getElementById('clock-frame');
      const mf = document.getElementById('math-frame');

      // Pause audio in the iframe we're leaving
      const prevFrame = prev === 'clock' ? cf : mf;
      pauseIframeAudio(prevFrame);

      // Show / hide
      cf.style.display = game === 'clock' ? 'block' : 'none';
      mf.style.display = game === 'math'  ? 'block' : 'none';

      // Update splash preview
      const splash = document.getElementById('playSplash');
      if (splash) {
        splash.setAttribute('data-game', game);
        const icons = { clock: 'üèéÔ∏è', math: 'üéØ' };
        const titles = { clock: 'Clock Master', math: 'Math Tank' };
        const modes = { clock: 'Time Race', math: 'Battle Mode' };
        document.getElementById('splashIcon').textContent = icons[game];
        document.getElementById('splashTitle').textContent = titles[game];
        document.getElementById('splashMode').textContent = modes[game];
      }

      if (started) ensureLoaded(game);

      document.getElementById('gameOverlay').classList.remove('show');
      document.getElementById('play').scrollIntoView({ behavior: 'smooth' });
    }

    /* Pause audio when user switches browser tabs or minimises */
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        pauseIframeAudio(document.getElementById('clock-frame'));
        pauseIframeAudio(document.getElementById('math-frame'));
      }
    });

    /* Pause audio when the play section scrolls out of view */
    const playSection = document.getElementById('play');
    if (playSection) {
      const audioObs = new IntersectionObserver(entries => {
        entries.forEach(e => {
          if (!e.isIntersecting) {
            pauseIframeAudio(document.getElementById('clock-frame'));
            pauseIframeAudio(document.getElementById('math-frame'));
          }
        });
      }, { threshold: 0 });
      audioObs.observe(playSection);
    }

    let roundsPlayed = 0;
    window.addEventListener('message', e => {
      if (e.data && e.data.type === 'gameEnd') {
        roundsPlayed++;
        if (roundsPlayed >= 1) setTimeout(() => document.getElementById('gameOverlay').classList.add('show'), 1500);
      }
    });
    function closeOverlay() { document.getElementById('gameOverlay').classList.remove('show'); }
    function dismissOverlay() {
      document.getElementById('gameOverlay').classList.remove('show');
      const cf = document.getElementById('clock-frame'), mf = document.getElementById('math-frame');
      if (cf.style.display !== 'none') cf.src = cf.src; else mf.src = mf.src;
    }

    /* Expand / Contract */
    let isExpanded = false;
    function toggleExpand() {
      isExpanded = !isExpanded;
      const wrap = document.getElementById('playPhoneWrap');
      const phone = document.getElementById('playPhone');
      const scaler = document.getElementById('iframeScaler');
      const expandIcon = document.getElementById('expandIcon');
      const contractIcon = document.getElementById('contractIcon');
      const btn = document.getElementById('expandBtn');

      if (isExpanded) {
        wrap.classList.add('expanded');
        phone.classList.add('expanded');
        document.body.style.overflow = 'hidden';
        expandIcon.style.display = 'none';
        contractIcon.style.display = 'block';
        btn.title = 'Contract game';
        resizeExpandedIframe();
        window.addEventListener('resize', resizeExpandedIframe);
      } else {
        wrap.classList.remove('expanded');
        phone.classList.remove('expanded');
        document.body.style.overflow = '';
        scaler.style.width = '';
        scaler.style.height = '';
        scaler.style.transform = '';
        expandIcon.style.display = 'block';
        contractIcon.style.display = 'none';
        btn.title = 'Expand game';
        window.removeEventListener('resize', resizeExpandedIframe);
      }
    }

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && isExpanded) toggleExpand();
    });

    function resizeExpandedIframe() {
      const phone = document.getElementById('playPhone');
      const scaler = document.getElementById('iframeScaler');
      if (!isExpanded) return;
      /* The iframe is always 412x915 (9:20 aspect ratio). Scale it to fit the expanded container while maintaining aspect ratio. */
      const containerW = phone.clientWidth;
      const containerH = phone.clientHeight;
      const iframeW = 412;
      const iframeH = 915;
      const scale = Math.min(containerW / iframeW, containerH / iframeH);
      scaler.style.width = iframeW + 'px';
      scaler.style.height = iframeH + 'px';
      scaler.style.transform = 'scale(' + scale + ')';
      scaler.style.transformOrigin = 'top left';
    }
  </script>
  <!-- Data Registry -->
  <script src="/js/registry.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.OG) {
        OG.renderToolsPreview('#tools-preview');
        OG.renderBlogPreview('#blog-preview', 3);
      }
    });
  </script>
  <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
  <script>kofiWidgetOverlay.draw('otterly_games',{'type':'floating-chat','floating-chat.donateButton.text':'Support me','floating-chat.donateButton.background-color':'#00b9fe','floating-chat.donateButton.text-color':'#fff'});</script>
</body>
</html>
